## All Bloodline passdown effects are in this file and this file only.
## Each new bloodline has to be added to the bloodline_on_born_effect and bloodline_setup_effect scripted effects

bloodline_on_born_effect = {
    pass_down_bloodline_character_effect = { BLOODLINE = "zani"}
    pass_down_bloodline_character_effect = { BLOODLINE = "aspatta"}
    pass_down_bloodline_character_effect = { BLOODLINE = "duggmoggen"}
    pass_down_bloodline_character_effect = { BLOODLINE = "sertem"}
    pass_down_bloodline_character_effect = { BLOODLINE = "dune"}
    pass_down_bloodline_character_effect = { BLOODLINE = "edis"}
    pass_down_bloodline_character_effect = { BLOODLINE = "cyrogelos"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_nazani"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_prophet"}
    pass_down_bloodline_character_effect = { BLOODLINE = "soventeir"}
    pass_down_bloodline_character_effect = { BLOODLINE = "jarenam"}
    pass_down_bloodline_character_effect = { BLOODLINE = "myahudya"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_girm"}
    pass_down_bloodline_character_effect = { BLOODLINE = "sanguine_blood"}
    pass_down_bloodline_character_effect = { BLOODLINE = "atheus"}
    pass_down_bloodline_character_effect = { BLOODLINE = "duny"}
    pass_down_bloodline_character_effect = { BLOODLINE = "bretagne"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_aralans"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_vetalian"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_ranazu"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_rendun"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_zewggad"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_eldritch"}
    pass_down_bloodline_character_effect = { BLOODLINE = "blood_of_euryalids"}
    pass_down_bloodline_character_effect = { BLOODLINE = "azar"}
    pass_down_bloodline_character_effect = { BLOODLINE = "midnadg"}
} 

bloodline_setup_effect = {
    ##OG Bloodlines
    pass_down_bloodline_effect = { BLOODLINE = "zani"}
    pass_down_bloodline_effect = { BLOODLINE = "aspatta"}
    pass_down_bloodline_effect = { BLOODLINE = "duggmoggen"}
    pass_down_bloodline_effect = { BLOODLINE = "sertem"}
    pass_down_bloodline_effect = { BLOODLINE = "dune"}
    pass_down_bloodline_effect = { BLOODLINE = "edis"}
    pass_down_bloodline_effect = { BLOODLINE = "cyrogelos"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_nazani"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_prophet"}
    pass_down_bloodline_effect = { BLOODLINE = "soventeir"}
    pass_down_bloodline_effect = { BLOODLINE = "jarenam"}
    pass_down_bloodline_effect = { BLOODLINE = "myahudya"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_girm"}
    pass_down_bloodline_effect = { BLOODLINE = "sanguine_blood"}
    pass_down_bloodline_effect = { BLOODLINE = "atheus"}
    pass_down_bloodline_effect = { BLOODLINE = "duny"}
    pass_down_bloodline_effect = { BLOODLINE = "bretagne"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_aralans"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_vetalian"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_ranazu"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_rendun"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_zewggad"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_eldritch"}
    pass_down_bloodline_effect = { BLOODLINE = "blood_of_euryalids"}
    pass_down_bloodline_effect = { BLOODLINE = "azar"}
    pass_down_bloodline_effect = { BLOODLINE = "midnadg"}
}

bloodline_game_start_effects = {
    add_bloodline_setup_effect = { BLOODLINE = zani CHAR = c:WGA.current_ruler }
    add_bloodline_setup_effect = { BLOODLINE = zani CHAR = c:EGA.current_ruler }
    add_bloodline_setup_effect = { BLOODLINE = aspatta CHAR = char:90 }
    add_bloodline_setup_effect = { BLOODLINE = sertem CHAR = char:0 }
    add_bloodline_setup_effect = { BLOODLINE = dune CHAR = char:9 }
    add_bloodline_setup_effect = { BLOODLINE = edis CHAR = char:93 }
    add_bloodline_setup_effect = { BLOODLINE = cyrogelos CHAR = char:94 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_nazani CHAR = char:18 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_prophet CHAR = char:21 }
    add_bloodline_setup_effect = { BLOODLINE = soventeir CHAR = char:16 }
    add_bloodline_setup_effect = { BLOODLINE = jarenam CHAR = char:29 }
    add_bloodline_setup_effect = { BLOODLINE = myahudya CHAR = char:44 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_girm CHAR = char:97 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_girm CHAR = char:95 }
    add_bloodline_setup_effect = { BLOODLINE = sanguine_blood CHAR = char:72 }
    add_bloodline_setup_effect = { BLOODLINE = atheus CHAR = char:33 }
    add_bloodline_setup_effect = { BLOODLINE = duny CHAR = char:26 }
    add_bloodline_setup_effect = { BLOODLINE = bretagne CHAR = char:11 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_aralans CHAR = char:13 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_vetalian CHAR = char:38 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_ranazu CHAR = char:71 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_zewggad CHAR = char:28 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_eldritch CHAR = char:46 }
    add_bloodline_setup_effect = { BLOODLINE = blood_of_euryalids CHAR = char:69 }
    hidden_effect = {
        trigger_event = { id = bloodlines_setup_completion.1 }
    }
}

add_bloodline_setup_effect = {
    every_character = {
        limit = {
            has_same_family = $CHAR$
        }
        force_add_trait = $BLOODLINE$
    }
}

##Bloodline legitimacy scheme effect.
add_bloodline_effect = {
    add_trait = $BLOODLINE$
    if = {
        limit = {
            num_of_children > 0
        }
        every_child = {
            limit = { is_alive = yes }
            add_trait = $BLOODLINE$
            if = {
                limit = { num_of_children > 0 }
                every_child = {
                    limit = { is_alive = yes }
                    add_trait = $BLOODLINE$
                }
            }
        }
    }
}

pass_down_bloodline_effect = {
    every_character = {
        if = {
            limit = {
                exists = father
                father = {
                    has_trait = $BLOODLINE$
                }                
                NOT = {
                    has_trait = $BLOODLINE$
                }
            }
            force_add_trait = $BLOODLINE$
        }
        if = {
            limit = {
                exists = mother
                mother = {
                    has_trait = $BLOODLINE$
                }
                NOT = {
                    has_trait = $BLOODLINE$
                }
            }
            force_add_trait = $BLOODLINE$
        }
    }
}

# Same as above but for an individual character
pass_down_bloodline_character_effect = {
    if = {
        limit = {
            exists = father
            father = {
                has_trait = $BLOODLINE$
            }                
            NOT = {
                has_trait = $BLOODLINE$
            }
        }
        force_add_trait = $BLOODLINE$
    }
    if = {
        limit = {
            exists = mother
            mother = {
                has_trait = $BLOODLINE$
            }
            NOT = {
                has_trait = $BLOODLINE$
            }
        }
        force_add_trait = $BLOODLINE$
    }
}
