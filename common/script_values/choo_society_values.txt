society_development_level_cost = {

value = 48

multiply = root.var:society_development_level


}

all_non_slave_pops_average_happines = { 

value = 0
every_owned_province = {  add = serfs_happiness }
every_owned_province = {  add = nobles_happiness }
every_owned_province = {  add = tmages_happiness }
every_owned_province = {  add = tribesmen_happiness }
every_owned_province = {  add = taristocracy_happiness }
every_owned_province = {  add = citizen_happiness }
divide = 6


}

society_points_from_slaves = {  

every_owned_province = { limit = { is_capital = yes } value = num_of_slaves }
divide = 10


}
#modifiers
domene_size_value = { 

value = 0

add = root.current_ruler.finesse

divide = 3

#circa from 0 to 5(15 finesse)

round = yes

add = 5 
#now its from 5 to 10

every_subject = { limit = { is_subject_type = princedom_vassal  } root = { add = 3 } }
every_subject = { limit = { is_subject_type = county_vassal  } root = { add = 2 } }
#now its from 5 to 20


add = var:current_state_rank

if = { limit = { var:current_state_rank >= 2 } add = 1 }
##now its from 6 to 21
if = { limit = { var:current_state_rank >= 3 } add = 2 }
##now its from 7 to 22
if = { limit = { var:current_state_rank >= 4 } add = 3 }
##now its from 8 to 23
if = { limit = { var:current_state_rank >= 5 } add = 4 }
##now its from 9 to 24

if = { limit = { root.current_ruler.finesse >= 6 } 

if = { limit = { var:current_state_rank >= 2 } add = 1 }
##now its from 7 to 22
if = { limit = { var:current_state_rank >= 3 } add = 2 }
##now its from 9 to 24
if = { limit = { var:current_state_rank >= 4 } add = 3 }
##now its from 11 to 26
if = { limit = { var:current_state_rank >= 5 } add = 4 }
##now its from 15 to 28

if = { limit = { root.current_ruler.charisma >= 6 } 

every_subject = { limit = { is_subject_type = princedom_vassal  } root = { add = 2 } }
every_subject = { limit = { is_subject_type = county_vassal  } root = { add = 1 } }
#+5 possible provincess 33

}

if = { limit = { has_country_modifier = loyal_marshal_modifier } add = 4 } 
if = { limit = { has_country_modifier = loyal_chancellor_modifier } add = 4 } 
if = { limit = { has_country_modifier = loyal_religious_advisor } add = 4 } 
#+12 possible provincess so 45
}

min = 1
max = 50
}

direct_feudal_vassals_limit = {

value = 0

add = scope:actor.current_ruler.charisma

divide = 5

round = yes

if = { limit = { exists = var:current_state_rank }
add = scope:actor.var:current_state_rank
 }



min = 1
max = 5

}

direct_feudal_vassals_limit_princedom = {

value = direct_feudal_vassals_limit
divide = 2
floor = yes

}

current_feudal_vassals_amount = {

value = 0

every_subject = { limit = { is_subject_type = princedom_vassal  } scope:actor = { add = 2 } }
every_subject = { limit = { is_subject_type = county_vassal     } scope:actor = { add = 1 } }



}

domene_size_overextension_high = {
value = root.domene_size_value
add = 2
}

domene_size_overextension_very_high = {
value = root.domene_size_value
add = 3
}

current_domene_size = {  

value = root.num_of_cities

}

number_of_possible_vassals = {


}




devastation_percentage_value = {

value = var:devastation_level

divide = 100

}

devastation_inverse_growth = {

value = 1
subtract = devastation_percentage_value

if = { limit = { owner = { has_war_exhaustion < 4 } devastation_percentage_value < 0.5  }
subtract = 0.5
}



min = 0.01
max = 1
}



devastation_inverse_decay = {

value = devastation_percentage_value
subtract = 1

if = { limit = { owner = { has_war_exhaustion < 4 } devastation_percentage_value > 0.5  }
subtract = 0.5
}


min = -1
max = -0.01
}

devastating_rage_growth = {

value = var:rage_points_level

divide = 50

subtract = 0.4

}

plague_chance_of_spread = {

value = 0

state = {

every_state_province = { limit = { has_variable = has_plague } add = 3 }
every_state_province = { limit = { has_province_modifier = under_isolation } add = -2.5 }
every_state_province = { limit = { total_population < 10 } add = -0.1 }

#disese modifier
if = { limit = { any_state_province = {  has_province_modifier = plague_smallpox  }  } multiply = 1.75 }   
if = { limit = { any_state_province = {  has_province_modifier = plague_melases  }  } multiply = 1.0 }
if = { limit = { any_state_province = {  has_province_modifier = plague_consumption  }  } multiply = 2.25 }   
if = { limit = { any_state_province = {  has_province_modifier = plague_bigpox  }  } multiply = 1.0 }   
if = { limit = { any_state_province = {  has_province_modifier = plague_typhoid  }  } multiply = 1.25 }   
if = { limit = { any_state_province = {  has_province_modifier = plague_typhus  }  } multiply = 1.5 }   
if = { limit = { any_state_province = {  has_province_modifier = plague_black  }  } multiply = 2.0 }   

}

round = yes
min = 0
max = 20
}


#plague_smallpox 
#plague_melases 
#plague_consumption 
#plague_bigpox 
#plague_typhoid 
#plague_typhus 
#plague_black 

#avivable_knights_leavy
avivable_knights_leavy = {

value = 0

every_owned_province = { 
add = num_of_nobles
}
divide = 25

round = yes
min = 0
max = {
every_owned_province = { 
add = num_of_nobles
}
divide = 10
ceiling = yes
subtract = current_knights_amount
min = 0
}
}

avivable_knights_to_invite = {

value = 0

every_allied_country = {
every_owned_province = { 
add = num_of_nobles
}
}
divide = 25

round = yes

max = {
every_allied_country = {
every_owned_province = { 
add = num_of_nobles
}
}
divide = 10
ceiling = yes
subtract = current_knights_amount
min = 0
}


min = 0
}

current_knights_amount = {

value = 0

every_army = { every_sub_unit = { limit = { sub_unit_type = knights } add = 1 } }

}

gold_from_rise_founds = {

value = 1
every_owned_province = { 
add = num_of_nobles
}

multiply = 0.5

round = yes

}

total_armed_units_count = { 
value = 0 

every_army = {

every_sub_unit = { limit = { NOT = { sub_unit_type = supply_train }  } add = 1 }

}

}
 
#Devotion

devotion_value = {

value = 0

add = {

add = root.current_ruler.zeal
multiply = 5

#devotion from 0 to 50
}

if = { 
limit = { has_variable = devotness_shift } 
add = { 
	add = var:devotness_shift 
	min = -50
	max = 50
} 

}





}

devotion_offset_value = {

value = devotion_value
subtract = 50


}

devotion_negative_offset_value = {

value = devotion_offset_value

multiply = -1


}


average_national_unrest = { 

value = 0

every_owned_province = { add = province_unrest }

divide = num_of_cities

}




wisdom_value = {

value = 0

add = {

add = { 

add = root.current_ruler.finesse   
add = root.current_ruler.charisma   
divide = 2
round = yes

} 
multiply = 5

#wisdom from 0 to 50
}

if = { 
limit = { has_variable = devotness_shift } 
add = { 
	add = var:devotness_shift 
	min = -50
	max = 50
} 

}





}

wisdom_offset_value = {

value = wisdom_value
subtract = 50


}

wisdom_negative_offset_value = {

value = wisdom_offset_value

multiply = -1


}

