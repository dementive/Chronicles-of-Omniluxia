namespace = ularianexplorer

ularianexplorer.start = {
    type = country_event
    hidden = yes

    trigger = {
        tag = WGA
    }     

    fire_only_once = yes

    immediate = {
        trigger_event = {
            id = ularianexplorer.1
            days = { 340 365 }
        }
    }
}

ularianexplorer.1 = { ##Ok-Opun Leaves Weagelia
    type = country_event

    title = ularianexplorer_1_title
    desc = ularianexplorer_1_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:122

    fire_only_once = yes

    goto_location = p:2422

    trigger = {
        tag = WGA
    }  

    fire_only_once = yes

    option = {
        name = "ularianexplorer_1.a"
        custom_tooltip = ularianexplorer_1_tooltip.a
        hidden_effect = {
            p:2422 = {
	            random_pops_in_province = {
	                kill_pop = yes
	            }
	        }
        }
        c:MO0 = {
	        trigger_event = {
	            id = ularianexplorer.2
	            days = { 15 30 }
	        }
        }
    }
}

ularianexplorer.2 = { ##Ok-Opun Arrives in Turris
    type = country_event

    title = ularianexplorer_2_title
    desc = ularianexplorer_2_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:122

    fire_only_once = yes

    goto_location = p:2187

    immediate = {
    	char:122 = {
			move_country = root
			set_as_minor_character = THIS
		}
    }

    option = {
        name = "ularianexplorer_2.a"
        custom_tooltip = ularianexplorer_2_tooltip.a
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = cruel
					}
				} 
				add_trait = cruel
			}
		}
        c:ORC = {
	        trigger_event = {
	            id = ularianexplorer.3
	            days = { 30 90 }
	        }
        }
    }
    option = {
    	ai_chance = 1
        name = "ularianexplorer_2.b"
        custom_tooltip = ularianexplorer_2_tooltip.b
        add_treasury = -50
        create_country_treasure = {
			key = "helluvian_bible"
			icon = "treasure_architecture"
			
			modifier = {
				local_pop_conversion_speed_modifier = 0.15
			}
		}

		p:2187 = {
			random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
        }

        c:ORC = {
	        trigger_event = {
	            id = ularianexplorer.3
	            days = { 30 90 }
	        }
        }
    }
	option = {
        name = "ularianexplorer_2.c"
        custom_tooltip = ularianexplorer_2_tooltip.c
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = depressed
					}
				} 
				add_trait = depressed
			}
		}

		p:2187 = {
			random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            define_pop = {
                type = freemen
                culture = ularian
                religion = helluvian
            }
            define_pop = {
                type = freemen
                culture = ularian
                religion = helluvian
            }
        }
    }
}

ularianexplorer.3 = { ##Ok-Opun Arrives in Venacinium
    type = country_event

    title = ularianexplorer_3_title
    desc = ularianexplorer_3_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:122

    fire_only_once = yes

    goto_location = p:1851

    immediate = {
    	char:122 = {
			move_country = root
			set_as_minor_character = THIS
		}
    }

    option = {
    	ai_chance = 1
        name = "ularianexplorer_3.a"
        custom_tooltip = ularianexplorer_3_tooltip.a
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = cruel
					}
				} 
				add_trait = cruel
			}
		}
        c:UP4 = {
	        trigger_event = {
	            id = ularianexplorer.4
	            days = { 90 180 }
	        }
        }
    }
    option = {
        name = "ularianexplorer_3.b"
        custom_tooltip = ularianexplorer_3_tooltip.b
        add_treasury = -50
        create_country_treasure = {
			key = "helluvian_bible"
			icon = "treasure_architecture"
			
			modifier = {
				local_pop_conversion_speed_modifier = 0.15
			}
		}

		p:1851 = {
			random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
        }

        c:UP4 = {
	        trigger_event = {
	            id = ularianexplorer.4
	            days = { 90 180 }
	        }
        }
    }
	option = {
        name = "ularianexplorer_3.c"
        custom_tooltip = ularianexplorer_3_tooltip.c
        char:122 = {
			death = { death_reason = death_decapitated }
		}
    }
}

ularianexplorer.4 = { ##Ok-Opun Arrives in Mignadg
    type = country_event

    title = ularianexplorer_4_title
    desc = ularianexplorer_4_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:122

    fire_only_once = yes

    goto_location = p:5694

    immediate = {
    	char:122 = {
			move_country = root
			set_as_minor_character = THIS
		}
    }

    option = {
        name = "ularianexplorer_4.a"
        custom_tooltip = ularianexplorer_4_tooltip.a
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = cruel
					}
				} 
				add_trait = cruel
			}
		}
        c:UP9 = {
	        trigger_event = {
	            id = ularianexplorer.5
	            days = { 30 60 }
	        }
        }
    }
    option = {
        name = "ularianexplorer_4.b"
        custom_tooltip = ularianexplorer_4_tooltip.b
        add_treasury = -50
        create_country_treasure = {
			key = "helluvian_bible"
			icon = "treasure_architecture"
			
			modifier = {
				local_pop_conversion_speed_modifier = 0.15
			}
		}

		p:5694 = {
			random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
        }

        c:UP9 = {
	        trigger_event = {
	            id = ularianexplorer.5
	            days = { 30 90 }
	        }
        }
    }
	option = {
        name = "ularianexplorer_4.c"
        custom_tooltip = ularianexplorer_4_tooltip.c
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = depressed
					}
				} 
				add_trait = depressed
			}
		}

		p:5694 = {
			random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            define_pop = {
                type = freemen
                culture = ularian
                religion = helluvian
            }
            define_pop = {
                type = freemen
                culture = ularian
                religion = helluvian
            }
        }
    }
}

ularianexplorer.5 = { ##Ok-Opun Arrives in Gughodzl
    type = country_event

    title = ularianexplorer_5_title
    desc = ularianexplorer_5_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:122

    fire_only_once = yes

    goto_location = p:5587

    immediate = {
    	char:122 = {
			move_country = root
			set_as_minor_character = THIS
		}
    }

    option = {
    	ai_chance = 1
        name = "ularianexplorer_5.a"
        custom_tooltip = ularianexplorer_5_tooltip.a
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = cruel
					}
				} 
				add_trait = cruel
			}
		}
        c:UP8 = {
	        trigger_event = {
	            id = ularianexplorer.6
	            days = { 20 30 }
	        }
        }
    }
    option = {
        name = "ularianexplorer_5.b"
        custom_tooltip = ularianexplorer_5_tooltip.b
        add_treasury = -50
        create_country_treasure = {
			key = "helluvian_bible"
			icon = "treasure_architecture"
			
			modifier = {
				local_pop_conversion_speed_modifier = 0.15
			}
		}

		p:5587 = {
			random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
        }

        c:UP8 = {
	        trigger_event = {
	            id = ularianexplorer.6
	            days = { 20 30 }
	        }
        }
    }
	option = {
        name = "ularianexplorer_5.c"
        custom_tooltip = ularianexplorer_5_tooltip.c
        char:122 = {
			death = { death_reason = death_decapitated }
		}
    }
}

ularianexplorer.6 = { ##Ok-Opun Arrives in Musrosr
    type = country_event

    title = ularianexplorer_6_title
    desc = ularianexplorer_6_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:122

    fire_only_once = yes

    goto_location = p:5594

    immediate = {
    	char:122 = {
			move_country = root
			set_as_minor_character = THIS
		}
    }

    option = {
    	ai_chance = 5
        name = "ularianexplorer_6.a"
        custom_tooltip = ularianexplorer_6_tooltip.a
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = cruel
					}
				} 
				add_trait = cruel
			}
		}
        c:UPJ = {
	        trigger_event = {
	            id = ularianexplorer.7
	            days = { 20 30 }
	        }
        }
    }
    option = {
    	ai_chance = 1
        name = "ularianexplorer_6.b"
        custom_tooltip = ularianexplorer_6_tooltip.b
        add_treasury = -50
        create_country_treasure = {
			key = "helluvian_bible"
			icon = "treasure_architecture"
			
			modifier = {
				local_pop_conversion_speed_modifier = 0.15
			}
		}

		p:5594 = {
			random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
        }

        c:UPJ = {
	        trigger_event = {
	            id = ularianexplorer.7
	            days = { 20 30 }
	        }
        }
    }
	option = {
        name = "ularianexplorer_6.c"
        custom_tooltip = ularianexplorer_6_tooltip.c
        char:122 = {
			death = { death_reason = death_decapitated }
		}
    }
}

ularianexplorer.7 = { ##Ok-Opun Arrives in Euryalid Kingdom
    type = country_event

    title = ularianexplorer_7_title
    desc = ularianexplorer_7_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:122

    fire_only_once = yes

    goto_location = p:5607

    immediate = {
    	char:122 = {
			move_country = root
			set_as_minor_character = THIS
		}
    }

    option = {
    	ai_chance = 1
        name = "ularianexplorer_7.a"
        custom_tooltip = ularianexplorer_7_tooltip.a
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = cruel
					}
				} 
				add_trait = cruel
			}
		}
        c:UP2 = {
	        trigger_event = {
	            id = ularianexplorer.8
	            days = { 20 30 }
	        }
        }
    }
    option = {
        name = "ularianexplorer_7.b"
        custom_tooltip = ularianexplorer_7_tooltip.b

        hidden_effect = {
        	p:5611 = {
				create_country = {
	                set_country_religion = helluvian
                    if = {
                        limit = {
                            NOT = { primary_culture = ularian }
                        }
                        set_primary_culture_cleanup_effect = {
                            NEW_PRIMARY_CULTURE = ularian
                            MAKE_OLD_CULTURE_INTEGRATED = yes
                        }
                    }
	                change_country_name = "Etenazun"
	                change_country_color = "holy_bhaxian"
	                change_government = theocratic_monarchy
	                change_country_adjective = "Ularian"
	                change_country_flag = IP3_FLAG
	                save_scope_as = ularian_snake
				}
			}
			char:122 = {
				remove_all_positions = yes
				move_country = scope:ularian_snake
				set_home_country = scope:ularian_snake
				remove_character_modifier = foreign_citizen
			}
			p:5612 = {
                if = {
                    limit = {
                        NOT = { owner = scope:ularian_snake }
                        owner = c:UPJ
                    }
				    set_owned_by = scope:ularian_snake
                }
			}
			scope:ularian_snake = {
				add_treasury = 1000
				add_manpower = 20
				set_as_ruler = char:122
				if = {
					limit = {
						NOR = {
							has_law = republican_recruitment_2 # legions capital
							has_law = republican_recruitment_4 # legions enabled
						}
					}
					change_law = republican_recruitment_2 # capital
				}
			}
			p:5611 = { # capital fort
				state = { set_state_capital = p:5611 }
				if = {
					limit = { can_build_building = fortress_building }
					add_building_level = fortress_building
				}
				change_province_name = "Na Uosdunn"
				define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                random_pops_in_province = {
                        set_pop_religion = helluvian
                }
                random_pops_in_province = {
                        set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
			}
	        make_subject = {
	            target = scope:ularian_snake
	            type = feudatory
	        }    
        }
    }

	option = {
        name = "ularianexplorer_7.c"
        custom_tooltip = ularianexplorer_7_tooltip.c
        char:122 = {
			death = { death_reason = death_decapitated }
		}
    }
}

ularianexplorer.8 = { ##Ok-Opun Arrives in Vithr
    type = country_event

    title = ularianexplorer_8_title
    desc = ularianexplorer_8_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:122

    fire_only_once = yes

    goto_location = p:5587

    immediate = {
    	char:122 = {
			move_country = root
			set_as_minor_character = THIS
		}
    }

    option = {
        name = "ularianexplorer_8.a"
        custom_tooltip = ularianexplorer_8_tooltip.a
        hidden_effect = {
        	p:5600 = {
				create_country = {
	                set_country_religion = helluvian
                    if = {
                        limit = {
                            NOT = { primary_culture = ularian }
                        }
                        set_primary_culture_cleanup_effect = {
                            NEW_PRIMARY_CULTURE = ularian
                            MAKE_OLD_CULTURE_INTEGRATED = yes
                        }
                    }
	                change_country_name = "Etenazun"
	                change_country_color = "holy_bhaxian"
	                change_government = theocratic_monarchy
	                change_country_adjective = "Ularian"
	                change_country_tag = ULR
	                change_country_flag = IP3_FLAG
	                save_scope_as = ularian_state
				}
			}
			char:122 = {
				remove_all_positions = yes
				move_country = scope:ularian_state
				set_home_country = scope:ularian_state
				remove_character_modifier = foreign_citizen
			}
			scope:ularian_state = {
				add_treasury = 1000
				add_manpower = 20
				set_as_ruler = char:122
				if = {
					limit = {
						NOR = {
							has_law = republican_recruitment_2 # legions capital
							has_law = republican_recruitment_4 # legions enabled
						}
					}
					change_law = republican_recruitment_2 # capital
				}
			}
			p:5600 = { # capital fort
				state = { set_state_capital = p:5600 }
				if = {
					limit = { can_build_building = fortress_building }
					add_building_level = fortress_building
				}
				change_province_name = "Na Uosdunn"
				define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                random_pops_in_province = {
                        set_pop_religion = helluvian
                }
                random_pops_in_province = {
                        set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
			}
        }
        current_ruler = {
			move_country = scope:ularian_state
			set_as_minor_character = THIS
		}
		set_player_country = scope:ularian_state
    }
    option = {
        name = "ularianexplorer_8.b"
        custom_tooltip = ularianexplorer_8_tooltip.b
        ai_chance = 1
        hidden_effect = {
        	p:5600 = {
				create_country = {
	                set_country_religion = helluvian
                    if = {
                        limit = {
                            NOT = { primary_culture = ularian }
                        }
                        set_primary_culture_cleanup_effect = {
                            NEW_PRIMARY_CULTURE = ularian
                            MAKE_OLD_CULTURE_INTEGRATED = yes
                        }
                    }
	                change_country_name = "Etenazun"
	                change_country_color = "holy_bhaxian"
	                change_government = theocratic_monarchy
	                change_country_adjective = "Ularian"
	                change_country_flag = IP3_FLAG
	                save_scope_as = ularian_state
				}
			}
			char:122 = {
				remove_all_positions = yes
				move_country = scope:ularian_state
				set_home_country = scope:ularian_state
				remove_character_modifier = foreign_citizen
			}
			scope:ularian_state = {
				add_treasury = 1000
				add_manpower = 20
				set_as_ruler = char:122
				if = {
					limit = {
						NOR = {
							has_law = republican_recruitment_2 # legions capital
							has_law = republican_recruitment_4 # legions enabled
						}
					}
					change_law = republican_recruitment_2 # capital
				}
			}
			p:5600 = { # capital fort
				state = { set_state_capital = p:5600 }
				if = {
					limit = { can_build_building = fortress_building }
					add_building_level = fortress_building
				}
				change_province_name = "Na Uosdunn"
				define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                define_pop = {
                    type = freemen
                    culture = ularian
                    religion = helluvian
                }
                random_pops_in_province = {
                        set_pop_religion = helluvian
                }
                random_pops_in_province = {
                        set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
                random_pops_in_province = {
                    set_pop_religion = helluvian
                }
			}
        }
    }
	option = {
        name = "ularianexplorer_8.c"
        custom_tooltip = ularianexplorer_8_tooltip.c
        char:122 = {
			if = {
				limit = {
					NOT = {
						has_trait = depressed
					}
				} 
				add_trait = depressed
			}
		}

		p:5603 = {
			random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            random_pops_in_province = {
                set_pop_religion = helluvian
            }
            define_pop = {
                type = freemen
                culture = ularian
                religion = helluvian
            }
            define_pop = {
                type = freemen
                culture = ularian
                religion = helluvian
            }
        }
    }
}





