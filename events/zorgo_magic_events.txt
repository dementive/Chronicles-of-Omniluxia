namespace = me_zorgo_magic_focus

me_zorgo_magic_focus.1 = {
    type = country_event

    title = me_zorgo_magic_focus.1_title
    desc = me_zorgo_magic_focus.1_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.1.a"
        custom_tooltip = me_zorgo_magic_focus.1_tooltip
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }

    option = {
        name = "me_zorgo_magic_focus.1.b"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}


me_zorgo_magic_focus.3 = {
    type = country_event

    title = me_zorgo_magic_focus.3_title
    desc = me_zorgo_magic_focus.3_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        trigger = {
            has_variable = sword_of_zanis_spell_var
        }
        name = "me_zorgo_magic_focus.3.a"
        trigger_event = { id = me_zorgo_magic_focus.4 }
    }

    option = {
        trigger = {
            OR = {
                has_variable = magical_ambassadors_spell_var
                has_variable = feast_of_ugone_spell_var
            }
        }
        name = "me_zorgo_magic_focus.3.b"
        trigger_event = { id = me_zorgo_magic_focus.5 }
    }

    option = {
        trigger = {
            OR = {
                has_variable = magical_construction_spell_var
                has_variable = golden_fingers_of_the_pharon_spell_var
            }
        }
        name = "me_zorgo_magic_focus.3.c"
        trigger_event = { id = me_zorgo_magic_focus.6 }
    }

    option = {
        trigger = {
            OR = {
                has_variable = divine_ceremonies_spell_var
                has_variable = divine_offerings_spell_var
            }
        }
        name = "me_zorgo_magic_focus.3.d"
        trigger_event = { id = me_zorgo_magic_focus.7 }
    }

    option = {
        trigger = {
            current_ruler = {
                has_trait = druid_trait
            }
        }
        name = "me_zorgo_magic_focus.3.e"
        custom_tooltip = me_zorgo_magic_focus.3.e_tt
        trigger_event = { id = me_zorgo_magic_focus.9 }
    }

    option = {
        trigger = {
            current_ruler = {
                OR = {
                    has_trait = cleric_trait
                    has_trait = illusionist_trait
                    has_trait = archmage_trait
                }
            }
        }
        name = "me_zorgo_magic_focus.3.f"
        custom_tooltip = me_zorgo_magic_focus.3.f_tt
        trigger_event = { id = me_zorgo_magic_focus.10 }
    }

    option = {
        trigger = {
            current_ruler = {
                has_trait = drow_trait
            }
        }
        name = "me_zorgo_magic_focus.3.g"
        custom_tooltip = me_zorgo_magic_focus.3.g_tt
        trigger_event = { id = me_zorgo_magic_focus.12 }
    }

    option = {
        trigger = {
            current_ruler = {
                has_religion = zainuddian
            }
        }
        name = "me_zorgo_magic_focus.3.h"
        custom_tooltip = me_zorgo_magic_focus.3.h_tt
        trigger_event = { id = me_zorgo_magic_focus.14 }
    }

    option = {
        trigger = {
            current_ruler = {
                has_trait = vampire_trait
            }
        }
        name = "me_zorgo_magic_focus.3.i"
        custom_tooltip = me_zorgo_magic_focus.3.i_tt
        trigger_event = { id = me_zorgo_magic_focus.19 }
    }


    option = {
        name = "me_zorgo_magic_focus.3.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.4 = { # Melodian School
    type = country_event

    title = me_zorgo_magic_focus.4_title
    desc = me_zorgo_magic_focus.4_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Sword of Zanis Spell
        trigger = {
            has_variable = sword_of_zanis_spell_var
        }
        add_country_modifier = {
            name = sword_of_zanis_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.4.a"
    }
    option = { # Winds of Pedentrutzu Spell
        trigger = {
            has_variable = winds_of_pedentrutzu_spell_var
        }
        add_country_modifier = {
            name = winds_of_pedentrutzu_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.4.b"
    }
    option = { # Hammer of Melodias spell
        trigger = {
            has_variable = hammer_of_melodias_spell_var
        }
        add_country_modifier = {
            name = hammer_of_melodias_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.4.c"
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.4.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.5 = { # Aldic School
    type = country_event

    title = me_zorgo_magic_focus.5_title
    desc = me_zorgo_magic_focus.5_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Magical Ambassadors Spell
        trigger = {
            has_variable = magical_ambassadors_spell_var
        }
        add_country_modifier = {
            name = ambassadors_country_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.5.a"
    }
    option = { # Feast of Ugone Spell
        trigger = {
            has_variable = feast_of_ugone_spell_var
        }
        add_country_modifier = {
            name = feast_of_ugone_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.5.b"
    }
    option = { # Light of the True Faith spell
        trigger = {
            has_variable = light_of_true_faith_spell_var
        }
        add_country_modifier = {
            name = light_of_true_faith_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.5.c"
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.5.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.6 = { # Amten School
    type = country_event

    title = me_zorgo_magic_focus.6_title
    desc = me_zorgo_magic_focus.6_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Magical Construction Spell
        trigger = {
            has_variable = magical_construction_spell_var
        }
        add_country_modifier = {
            name = magical_construction_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        } 
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.6.a"
    }
    option = { # Golden Fingers of the Pharon spell
        trigger = {
            has_variable = golden_fingers_of_the_pharon_spell_var
        }
        add_country_modifier = {
            name = golden_fingers_of_the_pharon_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.6.b"
    }
    option = { # Bounty of Adaralu Spell
        trigger = {
            has_variable = bounty_of_adaralu_spell_var
        }
        add_country_modifier = {
            name = magical_construction_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.6.c"
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.6.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.7 = { # Omnic School
    type = country_event

    title = me_zorgo_magic_focus.7_title
    desc = me_zorgo_magic_focus.7_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Divine Ceremonies Spell
        trigger = {
            has_variable = divine_ceremonies_spell_var
        }
        add_country_modifier = {
            name = divine_ceremonies_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.7.a"
    }
    option = { # Divine Offerings Spell 
        trigger = {
            has_variable = divine_offerings_spell_var
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = divine_offerings_spell_explanation_tt
        custom_tooltip = three_year_spell_cooldown_tt
        trigger_event = hidden_events.9
        name = "me_zorgo_magic_focus.7.b"
    }
    option = { #Gifts of the Philosopher King Spell
        trigger = {
            has_variable = gifts_of_the_philosopher_king_spell_var
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = gifts_of_the_philosopher_king_spell_explanation_tt
        custom_tooltip = three_year_spell_cooldown_tt
        add_1_free_province_investments = yes
        name = "me_zorgo_magic_focus.7.c"
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.7.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.8 = {
    type = country_event

    title = me_zorgo_magic_focus.8_title
    desc = me_zorgo_magic_focus.8_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.8.a"
        current_ruler = {
            remove_trait = mage_trait
            force_add_trait = sorcerer_trait
        }
    }
    option = {
        name = "me_zorgo_magic_focus.8.b"
        current_ruler = {
            remove_trait = mage_trait
            force_add_trait = warlock_trait
        }
    }
    option = {
        name = "me_zorgo_magic_focus.8.c"
        current_ruler = {
            remove_trait = mage_trait
            force_add_trait = ironbound_trait
        }
    }
}

me_zorgo_magic_focus.9 = { # Druid School
    type = country_event

    title = me_zorgo_magic_focus.9_title
    desc = me_zorgo_magic_focus.9_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Touch of Athaea
        current_ruler = {
            add_health = 3
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.9.a"
    }

    option = { # Embrace of Cuithcovada
        custom_tooltip = embrace_of_cuithcovada_tt
        current_ruler = {
            if = {
                limit = {
                    has_trait = hemorrhagic_fever
                }
                remove_trait = hemorrhagic_fever
            }
            if = {
                limit = {
                    has_trait = plague
                }
                remove_trait = plague
            }
            if = {
                limit = {
                    has_trait = mentagra
                }
                remove_trait = mentagra
            }
            if = {
                limit = {
                    has_trait = pox
                }
                remove_trait = pox
            }
            if = {
                limit = {
                    has_trait = dysentery
                }
                remove_trait = dysentery
            }
            if = {
                limit = {
                    has_trait = gangrene
                }
                remove_trait = gangrene
            }
            if = {
                limit = {
                    has_trait = leper
                }
                remove_trait = leper
            }
            if = {
                limit = {
                    has_trait = leper
                }
                remove_trait = leper
            }
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1825
            }
        }
        custom_tooltip = five_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.9.b"
    }

    option = { # Arrows of Lavas spell
        add_country_modifier = {
            name = arrows_of_lavas_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.9.c"
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.9.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.10 = { # Cleric School
    type = country_event

    title = me_zorgo_magic_focus.10_title
    desc = me_zorgo_magic_focus.10_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Armor of Light
        current_ruler = {
            force_add_trait = omni_cleric_spell_1_trait
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = armor_of_light_spell_tt
        custom_tooltip = tier_one_spell_tt
        custom_tooltip = three_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.10.c"
        trigger_event = {
            id = me_zorgo_magic_focus.13
            days = { 365 366 }
        }
    }

    option = { # Cafea's Breath spell
        custom_tooltip = cafeas_breath_spell_tt
        trigger = {
            has_variable = unlock_cleric_spells_tier_2_var
        }
        current_ruler = {
            if = {
                limit = {
                    has_trait = wounded
                }
                remove_trait = wounded
            }
            if = {
                limit = {
                    has_trait = inflammation
                }
                remove_trait = inflammation
            }
            if = {
                limit = {
                    has_trait = pneumonia
                }
                remove_trait = pneumonia
            }
            if = {
                limit = {
                    has_trait = vampiric_fever
                }
                remove_trait = vampiric_fever
            }
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1825
            }
        }
        custom_tooltip = tier_two_spell_tt
        custom_tooltip = five_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.10.a"
    }

    option = { # 
        trigger = {
            has_variable = unlock_cleric_spells_tier_2_var
        }
        current_ruler = {
            force_add_trait = omni_cleric_spell_2_trait
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1825
            }
        }
        custom_tooltip = omniscient_armor_spell_tt
        custom_tooltip = tier_two_spell_tt
        custom_tooltip = five_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.10.e"
        trigger_event = {
            id = me_zorgo_magic_focus.13
            days = { 730 731 }
        }
    }
    option = { # Hand of Helluvius spell
        trigger = {
            has_variable = unlock_cleric_spells_tier_3_var
        }
        custom_tooltip = hand_of_helluvius_spell_tt
        current_ruler = {
            if = {
                limit = {
                    has_trait = one_eyed
                }
                remove_trait = one_eyed
            }
            if = {
                limit = {
                    has_trait = blind
                }
                remove_trait = blind
            }
            if = {
                limit = {
                    has_trait = maimed
                }
                remove_trait = maimed
            }
            if = {
                limit = {
                    has_trait = castrated
                }
                remove_trait = castrated
            }
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = tier_three_spell_tt
        custom_tooltip = ten_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.10.b"
    }
    option = { # 
        trigger = {
            has_variable = unlock_cleric_spells_tier_3_var
        }
        current_ruler = {
            force_add_trait = omni_cleric_spell_3_trait
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1825
            }
        }
        custom_tooltip = aldic_armor_spell_tt
        custom_tooltip = tier_three_spell_tt
        custom_tooltip = ten_year_spell_cooldown_tt
        name = "me_zorgo_magic_focus.10.d"
        trigger_event = {
            id = me_zorgo_magic_focus.13
            days = { 1095 1096 }
        }
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.10.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.12 = {
    type = country_event

    title = me_zorgo_magic_focus.12_title
    desc = me_zorgo_magic_focus.12_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.12.a"
        current_ruler = {
            force_add_trait = drow_elf_spell_1_trait
        }
        custom_tooltip = drow_elf_spell_1_trait_tt
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        trigger_event = {
            id = me_zorgo_magic_focus.13
            days = { 365 366 }
        }
    }
    option = {
        name = "me_zorgo_magic_focus.12.b"
        current_ruler = {
            force_add_trait = drow_elf_spell_2_trait
        }
        custom_tooltip = drow_elf_spell_2_trait_tt
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        trigger_event = {
            id = me_zorgo_magic_focus.13
            days = { 365 366 }
        }
    }
    option = {
        name = "me_zorgo_magic_focus.12.c"
        current_ruler = {
            force_add_trait = drow_elf_spell_3_trait
        }
        custom_tooltip = drow_elf_spell_3_trait_tt
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        trigger_event = {
            id = me_zorgo_magic_focus.13
            days = { 365 366 }
        }
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.10.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.13 = {
    type = country_event

    title = me_zorgo_magic_focus.13_title
    desc = me_zorgo_magic_focus.13_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.13.a"
        current_ruler = {
            if = {
                limit = {
                    has_trait = omni_cleric_spell_1_trait
                }
                remove_trait = omni_cleric_spell_1_trait
            }
            if = {
                limit = {
                    has_trait = omni_cleric_spell_2_trait
                }
                remove_trait = omni_cleric_spell_2_trait
            }
            if = {
                limit = {
                    has_trait = omni_cleric_spell_3_trait
                }
                remove_trait = omni_cleric_spell_3_trait
            }
            if = {
                limit = {
                    has_trait = drow_elf_spell_1_trait
                }
                remove_trait = drow_elf_spell_1_trait
            }
            if = {
                limit = {
                    has_trait = drow_elf_spell_2_trait
                }
                remove_trait = drow_elf_spell_2_trait
            }
            if = {
                limit = {
                    has_trait = drow_elf_spell_3_trait
                }
                remove_trait = drow_elf_spell_3_trait
            }
            if = {
                limit = {
                    has_trait = zainuddian_spell_1_trait
                }
                remove_trait = zainuddian_spell_1_trait
            }
            if = {
                limit = {
                    has_trait = vampire_spell_1_trait
                }
                remove_trait = vampire_spell_1_trait
            }
        }
    }
}

me_zorgo_magic_focus.14 = {
    type = country_event

    title = me_zorgo_magic_focus.14_title
    desc = me_zorgo_magic_focus.14_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        trigger = {
            any_owned_province = {
                any_pops_in_province = {
                    count >= 5
                    NOT = { pop_religion = zainuddian }
                }
            }
        }
        name = "me_zorgo_magic_focus.14.a"
        custom_tooltip = first_revelation_spell_explanation_tt
        custom_tooltip = three_year_spell_cooldown_tt
        trigger_event = me_zorgo_magic_focus.15
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
    }
    option = {
        current_ruler = {
            force_add_trait = zainuddian_spell_1_trait
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = three_year_spell_cooldown_tt
        trigger_event = {
            id = me_zorgo_magic_focus.13
            days = { 365 366 }
        }
        name = "me_zorgo_magic_focus.14.b"
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.10.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.15 = {
    type = country_event

    title = me_zorgo_magic_focus.15_title
    desc = me_zorgo_magic_focus.15_desc
    picture = senator_conversing
    left_portrait = current_ruler

    immediate = {
        random_owned_province = {
                limit = {
                    any_pops_in_province = {
                        count >= 5
                        NOT = { pop_religion = religion:zainuddian }
                    }
                }
                while = {
                    count = 5
                    limit = {
                        any_pops_in_province = {
                            NOT = { pop_religion = religion:zainuddian }
                        }
                    } 
                }
                save_scope_as = converted_province    
            }
        }
    

    option = {
        name = "me_zorgo_magic_focus.15.a"
        scope:converted_province = {
            random_pops_in_province = {
                limit = {
                    NOT = { pop_religion = religion:zainuddian }
                }
                set_pop_religion = religion:zainuddian
            }
        }
    }
}

me_zorgo_magic_focus.16 = {
    type = country_event

    title = me_zorgo_magic_focus.16_title
    desc = me_zorgo_magic_focus.16_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.16.a"
        custom_tooltip = me_zorgo_magic_focus.16_tooltip
        current_ruler = {
            force_add_trait = cleric_trait
        }
        set_variable = { name = research_cleric_spells_tier_2_var }
    }
}

me_zorgo_magic_focus.17 = {
    type = country_event

    title = me_zorgo_magic_focus.17_title
    desc = me_zorgo_magic_focus.17_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.17.a"
        custom_tooltip = me_zorgo_magic_focus.17_tooltip
        trigger_event = {
            id = me_zorgo_magic_focus.18
            days = { 1 2 }
        }
        remove_variable = research_cleric_spells_tier_2_var
    }
}

me_zorgo_magic_focus.18 = {
    type = country_event

    title = me_zorgo_magic_focus.18_title
    desc = me_zorgo_magic_focus.18_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.18.a"
        custom_tooltip = me_zorgo_magic_focus.18_tooltip
        trigger_event = {
            id = me_zorgo_magic_focus.22
            days = { 365 366 }
        }
    }
}

me_zorgo_magic_focus.19 = {
    type = country_event

    title = me_zorgo_magic_focus.19_title
    desc = me_zorgo_magic_focus.19_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        trigger = {
            has_variable = satiated_vampire_var
        }
        name = "me_zorgo_magic_focus.19.a"
        trigger_event = {
            id = me_zorgo_magic_focus.13
            days = { 1 2 }
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        current_ruler = {
            force_add_trait = vampire_spell_1_trait
        }
        custom_tooltip = three_year_spell_cooldown_tt
    }
    option = {
        name = "me_zorgo_magic_focus.2.z"
        custom_tooltip = me_zorgo_magic_focus.2.z.tt
        trigger_event = { id = me_zorgo_magic_focus.3 }
    }
    option = {
        name = "me_zorgo_magic_focus.10.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.20 = {
    type = country_event

    title = me_zorgo_magic_focus.20_title
    desc = me_zorgo_magic_focus.20_desc
    picture = event_marching_army
    left_portrait = current_ruler
    right_portrait = scope:target.employer.current_ruler

    immediate = {
        scope:actor = {
            current_ruler = {
                save_scope_as = enemy_ruler
            }
        }
    }
    
    trigger = {
        exists = scope:target
        exists = scope:actor
    }

    option = {
        name = "me_zorgo_magic_focus.20.a"
        set_variable = {
            name = omni_magic_cooldown
            days = 1095
        }
        scope:target.employer = {
            add_country_modifier = {
                name = offensive_war_magic_spell_1_mod 
                duration = 65
            }
            trigger_event = {
            id = me_zorgo_magic_focus.21
            days = { 1 2 }
        }
        }
    }

    option = {
        name = "me_zorgo_magic_focus.20.b"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.21 = {
    type = country_event

    title = me_zorgo_magic_focus.21_title
    desc = me_zorgo_magic_focus.21_desc
    picture = event_marching_army
    left_portrait = current_ruler
    right_portrait = scope:enemy_ruler

    option = {
        name = "me_zorgo_magic_focus.21.a"
        add_country_modifier = {
            name = offensive_war_magic_spell_1_mod 
            duration = 65
        }
    }

    option = {
        name = "me_zorgo_magic_focus.21.b"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.22 = {
    type = country_event

    title = me_zorgo_magic_focus.22_title
    desc = me_zorgo_magic_focus.22_desc
    picture = ascetic
    left_portrait = current_ruler
    right_portrait = scope:typhion

    immediate = {
        hidden_effect = {
            c:DUN= {
                create_character = {
                    first_name = "Typhion"
                    age = 26
                    female = no
                    religion = beatepian_pantheon
                    save_scope_as = typhion
                    
                }
                scope:typhion = {
                    add_trait = cleric
                    add_trait = cultured
                }
            }
        }
    }

    option = {
        add_treasury = {
            subtract = root.has_monthly_income
            multiply = 12
        }
        name = "me_zorgo_magic_focus.22.a"
        trigger_event = {
            id = me_zorgo_magic_focus.23
            days = { 365 366 }
        }
        scope:typhion = {
            move_country = root
            set_as_minor_character = THIS
            hidden_effect = {
                add_gold = {
                value = 250
            }
            }
        }
        custom_tooltip = me_zorgo_magic_focus.22.a_tt
    }

    option = {
        name = "me_zorgo_magic_focus.22.b"
        custom_tooltip = me_zorgo_magic_focus.22_tooltip
        trigger_event = {
            id = me_zorgo_magic_focus.23
            days = { 500 501 }
        }
    }
}

me_zorgo_magic_focus.23 = {
    type = country_event

    title = me_zorgo_magic_focus.23_title
    desc = me_zorgo_magic_focus.23_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        trigger = {
            capital_scope = {
                is_importing_trade_good = elixir
            }
        }
        add_treasury = {
            subtract = root.has_monthly_income
            multiply = 18
        }
        name = "me_zorgo_magic_focus.23.a"
        custom_tooltip = me_zorgo_magic_focus.22.a_tt
        trigger_event = {
            id = me_zorgo_magic_focus.24
            days = { 365 366 }
        }
    }
    option = {
        name = "me_zorgo_magic_focus.23.b"
        custom_tooltip = me_zorgo_magic_focus.22_tooltip
        trigger_event = {
            id = me_zorgo_magic_focus.24
            days = { 500 501 }
        }
    }
}

me_zorgo_magic_focus.24 = {
    type = country_event

    title = me_zorgo_magic_focus.24_title
    desc = me_zorgo_magic_focus.24_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.24.a"
        custom_tooltip = me_zorgo_magic_focus.24_tooltip
        current_ruler = {
            if = {
                limit = {
                    has_trait = cleric_trait
                }
                remove_trait = cleric_trait
            }
            force_add_trait = illusionist_trait
        }
        set_variable = { name = unlock_cleric_spells_tier_2_var }
    }
}