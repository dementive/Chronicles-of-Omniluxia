namespace = me_zorgo_magic_focus

me_zorgo_magic_focus.1 = {
    type = country_event

    title = me_zorgo_magic_focus.1_title
    desc = me_zorgo_magic_focus.1_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.1.a"
        custom_tooltip = me_zorgo_magic_focus.1_tooltip
        trigger_event = { id =  me_zorgo_magic_focus.3 }
    }

    option = {
        name = "me_zorgo_magic_focus.1.b"
    }
}


me_zorgo_magic_focus.3 = {
    type = country_event

    title = me_zorgo_magic_focus.3_title
    desc = me_zorgo_magic_focus.3_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        trigger = {
            has_variable = sword_of_zanis_spell_var
        }
        name = "me_zorgo_magic_focus.3.a"
        trigger_event = { id =  me_zorgo_magic_focus.4 }
    }

    option = {
        trigger = {
            has_variable = magical_ambassadors_spell_var
            has_variable = feast_of_ugone_spell_var
        }
        name = "me_zorgo_magic_focus.3.b"
        trigger_event = { id =  me_zorgo_magic_focus.5 }
    }
    option = {
        trigger = {
            has_variable = magical_construction_spell_var
            has_variable = golden_fingers_of_the_pharon_spell_var
        }
        name = "me_zorgo_magic_focus.3.c"
        trigger_event = { id =  me_zorgo_magic_focus.6 }
    }
    option = {
        trigger = {
            has_variable = divine_ceremonies_spell_var
            has_variable = divine_offerings_spell_var
        }
        name = "me_zorgo_magic_focus.3.d"
        trigger_event = { id =  me_zorgo_magic_focus.7 }
    }
    option = {
        trigger = {
            current_ruler = {
                has_trait = druid_trait
            }
        }
        name = "me_zorgo_magic_focus.3.e"
        custom_tooltip = me_zorgo_magic_focus.3.e_tt
        trigger_event = { id =  me_zorgo_magic_focus.9 }
    }
    option = {
        name = "me_zorgo_magic_focus.3.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.4 = { # Melodian School
    type = country_event

    title = me_zorgo_magic_focus.4_title
    desc = me_zorgo_magic_focus.4_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Sword of Zanis Spell
        trigger = {
            has_variable = sword_of_zanis_spell_var
        }
        add_country_modifier = {
            name = sword_of_zanis_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.4.a"
    }
    option = { # Winds of Pedentrutzu Spell
        trigger = {
            has_variable = winds_of_pedentrutzu_spell_var
        }
        add_country_modifier = {
            name = winds_of_pedentrutzu_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.4.b"
    }
    option = { # Hammer of Melodias spell
        trigger = {
            has_variable = hammer_of_melodias_spell_var
        }
        add_country_modifier = {
            name = hammer_of_melodias_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.4.c"
    }
    option = {
        name = "me_zorgo_magic_focus.4.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.5 = { # Aldic School
    type = country_event

    title = me_zorgo_magic_focus.5_title
    desc = me_zorgo_magic_focus.5_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Magical Ambassadors Spell
        trigger = {
            has_variable = magical_ambassadors_spell_var
        }
        add_country_modifier = {
            name = ambassadors_country_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.5.a"
    }
    option = { # Feast of Ugone Spell
        trigger = {
            has_variable = feast_of_ugone_spell_var
        }
        add_country_modifier = {
            name = feast_of_ugone_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.5.b"
    }
    option = { # Light of the True Faith spell
        trigger = {
            has_variable = light_of_true_faith_spell_var
        }
        add_country_modifier = {
            name = light_of_true_faith_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.5.c"
    }
    option = {
        name = "me_zorgo_magic_focus.5.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.6 = { # Amten School
    type = country_event

    title = me_zorgo_magic_focus.6_title
    desc = me_zorgo_magic_focus.6_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Magical Construction Spell
        trigger = {
            has_variable = magical_construction_spell_var
        }
        add_country_modifier = {
            name = magical_construction_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        } 
        name = "me_zorgo_magic_focus.6.a"
    }
    option = { # Golden Fingers of the Pharon spell
        trigger = {
            has_variable = golden_fingers_of_the_pharon_spell_var
        }
        add_country_modifier = {
            name = golden_fingers_of_the_pharon_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.6.b"
    }
    option = { # Bounty of Adaralu Spell
        trigger = {
            has_variable = bounty_of_adaralu_spell_var
        }
        add_country_modifier = {
            name = magical_construction_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.6.c"
    }
    option = {
        name = "me_zorgo_magic_focus.6.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.7 = { # Omnic School
    type = country_event

    title = me_zorgo_magic_focus.7_title
    desc = me_zorgo_magic_focus.7_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Divine Ceremonies Spell
        trigger = {
            has_variable = divine_ceremonies_spell_var
        }
        add_country_modifier = {
            name = divine_ceremonies_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.7.a"
    }
    option = { # Divine Offerings Spell 
        trigger = {
            has_variable = divine_offerings_spell_var
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = divine_offerings_spell_explanation_tt
        trigger_event = hidden_events.9
        name = "me_zorgo_magic_focus.7.b"
    }
    option = { #Gifts of the Philosopher King Spell
        trigger = {
            has_variable = gifts_of_the_philosopher_king_spell_var
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        custom_tooltip = gifts_of_the_philosopher_king_spell_explanation_tt
        add_1_free_province_investments = yes
        name = "me_zorgo_magic_focus.7.c"
    }
    option = {
        name = "me_zorgo_magic_focus.7.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}

me_zorgo_magic_focus.8 = {
    type = country_event

    title = me_zorgo_magic_focus.8_title
    desc = me_zorgo_magic_focus.8_desc
    picture = ascetic
    left_portrait = current_ruler

    option = {
        name = "me_zorgo_magic_focus.8.a"
        current_ruler = {
            remove_trait = mage_trait
            force_add_trait = sorcerer_trait
        }
    }
    option = {
        name = "me_zorgo_magic_focus.8.b"
        current_ruler = {
            remove_trait = mage_trait
            force_add_trait = warlock_trait
        }
    }
    option = {
        name = "me_zorgo_magic_focus.8.c"
        current_ruler = {
            remove_trait = mage_trait
            force_add_trait = ironbound_trait
        }
    }
}

me_zorgo_magic_focus.9 = { # Cleric School
    type = country_event

    title = me_zorgo_magic_focus.9_title
    desc = me_zorgo_magic_focus.9_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Touch of Athaea
        current_ruler = {
            add_health = 3
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.9.a"
    }

    option = { # Embrace of Cuithcovada
        custom_tooltip = embrace_of_cuithcovada_tt
        current_ruler = {
            if = {
                limit = {
                    has_trait = stressed
                }
                remove_trait = stressed
            }
            if = {
                limit = {
                    has_trait = invalid
                }
                remove_trait = invalid
            }
            if = {
                limit = {
                    has_trait = hemorrhagic_fever
                }
                remove_trait = hemorrhagic_fever
            }
            if = {
                limit = {
                    has_trait = plague
                }
                remove_trait = plague
            }
            if = {
                limit = {
                    has_trait = mentagra
                }
                remove_trait = mentagra
            }
            if = {
                limit = {
                    has_trait = arthritis
                }
                remove_trait = arthritis
            }
            if = {
                limit = {
                    has_trait = pox
                }
                remove_trait = pox
            }
            if = {
                limit = {
                    has_trait = dysentery
                }
                remove_trait = dysentery
            }
            if = {
                limit = {
                    has_trait = inflammation
                }
                remove_trait = inflammation
            }
            if = {
                limit = {
                    has_trait = wounded
                }
                remove_trait = wounded
            }
            if = {
                limit = {
                    has_trait = gangrene
                }
                remove_trait = gangrene
            }
            if = {
                limit = {
                    has_trait = leper
                }
                remove_trait = leper
            }
            if = {
                limit = {
                    has_trait = maimed
                }
                remove_trait = maimed
            }
            if = {
                limit = {
                    has_trait = frail
                }
                remove_trait = frail
            }
            if = {
                limit = {
                    has_trait = paralysis
                }
                remove_trait = paralysis
            }
            if = {
                limit = {
                    has_trait = brain_damaged
                }
                remove_trait = brain_damaged
            }
            if = {
                limit = {
                    has_trait = mourning
                }
                remove_trait = mourning
            }
            if = {
                limit = {
                    has_trait = depressed
                }
                remove_trait = depressed
            }
            if = {
                limit = {
                    has_trait = dementia
                }
                remove_trait = dementia
            }
            if = {
                limit = {
                    has_trait = cancer
                }
                remove_trait = cancer
            }
            if = {
                limit = {
                    has_trait = gout
                }
                remove_trait = gout
            }
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 3650
            }
        }
        name = "me_zorgo_magic_focus.9.b"
        custom_tooltip = zorgo_magic_ten_year_cooldown_tt
    }

    option = { # Arrows of Lavas spell
        add_country_modifier = {
            name = arrows_of_lavas_spell_mod
            duration = 1095
        }
        scope:target = {
            set_variable = {
                name = omni_magic_cooldown
                days = 1095
            }
        }
        name = "me_zorgo_magic_focus.9.c"
    }

    option = {
        name = "me_zorgo_magic_focus.9.z"
        custom_tooltip = me_zorgo_magic_focus.2_tooltip
    }
}