namespace = me_magic_studying

# PHASE ONE

# BASIC

# Initial Learning Event to Give Mage Trait
me_magic_studying.1 = {
    type = country_event

    title = me_magic_studying.1_title
    desc = me_magic_studying.1_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.1.a"
        current_ruler = {
            set_variable = first_time_mage_var
        }
        add_political_influence = 15

        # P1 Trigger
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    has_variable = diviner_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.5
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.6
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    NOT = {
                                        has_variable = cleric_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.7
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Overworking
me_magic_studying.2 = {
    type = country_event

    title = me_magic_studying.2_title
    desc = me_magic_studying.2_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.2.a"
        add_political_influence = -15

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    has_variable = diviner_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.5
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.6
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    NOT = {
                                        has_variable = cleric_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.7
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Shortcuts
me_magic_studying.3 = {
    type = country_event

    title = me_magic_studying.3_title
    desc = me_magic_studying.3_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.3.a"
        add_political_influence = -8
        add_stability = -3

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    has_variable = hierophant_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.11
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    NOT = {
                                        has_variable = hierophant_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.12
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.13
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlock_var
                                    NOT = { has_variable = warlock_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.14
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    has_variable = cleric_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.15
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    NOT = { has_variable = druid_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.16
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    has_variable = illusionist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.17
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    has_variable = elementalist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.18
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    option = {
        name = "me_magic_studying.3.b"
        add_stability = 5
        current_ruler = {
            add_popularity = popularity_medium
        }

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    has_variable = diviner_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.5
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.6
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    NOT = {
                                        has_variable = cleric_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.7
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Steady Advance
me_magic_studying.4 = {
    type = country_event

    title = me_magic_studying.4_title
    desc = me_magic_studying.4_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.4.a"
        add_political_influence = 5
        
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    has_variable = hierophant_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.11
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    NOT = {
                                        has_variable = hierophant_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.12
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.13
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlock_var
                                    NOT = { has_variable = warlock_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.14
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    has_variable = cleric_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.15
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    NOT = { has_variable = druid_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.16
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    has_variable = illusionist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.17
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    has_variable = elementalist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.18
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# CLASS

# Diviner Accident T2
me_magic_studying.5 = {
    type = country_event

    title = me_magic_studying.5_title
    desc = me_magic_studying.5_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.5.a"
        capital_scope = {
            add_city_smoke_effect = yes
            add_city_fire_effect = yes
            ordered_pops_in_province = {
                order_by = pop_hapiness
                max = {
                    value = total_population
                    divide = 8
                }
                min = {
                    value = 0
                }
                kill_pop = yes
            }
        }
        add_treasury = -50

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    has_variable = diviner_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.5
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.6
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    NOT = {
                                        has_variable = cleric_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.7
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Necromancer Disgusted T1
me_magic_studying.6 = {
    type = country_event

    title = me_magic_studying.6_title
    desc = me_magic_studying.6_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.6.a"
        custom_tooltip = me_magic_studying_1_tooltip
        current_ruler = {
            add_popularity = popularity_medium
        }
        add_stability = 12

        current_ruler = {
            remove_variable = omni_studying_magic_cooldown
            remove_variable = omni_studying_necromancer_var
        }
    }

    option = {
        name = "me_magic_studying.6.b"
        current_ruler = {
            force_add_trait = cruel
            add_legitimacy = -15
        }
        add_stability = -8
        
        # P2 Trigger
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    has_variable = hierophant_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.11
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    NOT = {
                                        has_variable = hierophant_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.12
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.13
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlock_var
                                    NOT = { has_variable = warlock_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.14
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    has_variable = cleric_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.15
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    NOT = { has_variable = druid_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.16
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    has_variable = illusionist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.17
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    has_variable = elementalist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.18
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Cleric Accident T1
me_magic_studying.7 = {
    type = country_event

    title = me_magic_studying.7_title
    desc = me_magic_studying.7_desc
    picture = ascetic
    left_portrait = current_ruler

    immediate = {
        random_character = {
            limit = {
                char_valid_for_country_events_trigger = yes
                char_can_be_friend_trigger = yes
                age > 16
            }
            weight = {
                base = 1
                modifier = {
                    factor = 5
                    has_trait = infection
                }
                modifier = {
                    factor = 2
                    has_same_culture_group_as = ROOT
                }
                modifier = {
                    factor = 0.05
                    char_is_ill_trigger = yes
                }
                title_importance_modifier = yes
            }
            save_scope_as = unfortunate_soul
        }
    }

    option = {
        name = "me_magic_studying.7.a"
        scope:unfortunate_soul = {
            death = { death_reason = death_decapitated }
        }
        add_country_modifier = {
            name = magic_murder_coverup_mod
            duration = 182
        }
        add_treasury = -25
        
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    has_variable = diviner_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.5
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.6
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    NOT = {
                                        has_variable = cleric_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.7
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}


# PHASE TWO

# BASIC

# Getting the Hang of Studies
me_magic_studying.8 = {
    type = country_event

    title = me_magic_studying.8_title
    desc = me_magic_studying.8_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.8.a"
        add_political_influence = 15

        # P3 Trigger
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    NOT = { has_variable = diviner_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.22
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlorck_var
                                    has_variable = warlock_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.23
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    NOT = {
                                        has_variable = elementalist_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.24
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    NOT = {
                                        has_variable = illusionist_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.25
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    has_variable = druid_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.26
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Bankrupting Self
me_magic_studying.9 = {
    type = country_event

    title = me_magic_studying.9_title
    desc = me_magic_studying.9_desc
    picture = ascetic
    left_portrait = current_ruler


    immediate = {
        add_treasury = -150
    }

    option = {
        name = "me_magic_studying.9.a"
        add_treasury = 25
        add_country_modifier = {
            name = magic_bankrupt_recovery_mod
            duration = 182
        }

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    NOT = { has_variable = diviner_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.22
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlorck_var
                                    has_variable = warlock_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.23
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    NOT = {
                                        has_variable = elementalist_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.24
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    NOT = {
                                        has_variable = illusionist_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.25
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    has_variable = druid_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.26
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    option = {
        name = "me_magic_studying.9.b"
        add_political_influence = -25
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    has_variable = diviner_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.5
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.6
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    NOT = {
                                        has_variable = cleric_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.7
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Neglecting Rule
me_magic_studying.10 = {
    type = country_event

    title = me_magic_studying.10_title
    desc = me_magic_studying.10_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.10.a"
        add_country_modifier = {
            name = magic_ruler_neglect_mod
            duration = 365
        }
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    has_variable = diviner_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.5
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.6
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    NOT = {
                                        has_variable = cleric_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.7
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# CLASS

# Hierophant Success T2
me_magic_studying.11 = {
    type = country_event

    title = me_magic_studying.11_title
    desc = me_magic_studying.11_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.11.a"
        add_innovation = 1
        set_variable = omni_studying_phase_three_var
        remove_variable = omni_studying_phase_two_var
    }
}

# Hierophant Frustration T1
me_magic_studying.12 = {
    type = country_event

    title = me_magic_studying.12_title
    desc = me_magic_studying.12_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.12.a"
        add_political_influence = -15
        add_country_modifier = {
            name = magic_hierophant_frustration_mod
            duration = 90
        }

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    has_variable = diviner_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.5
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.6
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    NOT = {
                                        has_variable = cleric_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.7
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.3
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.4
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.5
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Necromancer Pact T2
me_magic_studying.13 = {
    type = country_event

    title = me_magic_studying.13_title
    desc = me_magic_studying.13_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.13.a"
        current_ruler = {
            add_popularity = popularity_medium
            add_legitimacy = 8
        }
        add_stability = 12

        current_ruler = {
            remove_variable = omni_studying_magic_cooldown
            remove_variable = omni_studying_necromancer_var
        }
    }

    option = {
        name = "me_magic_studying.13.b"
        current_ruler = {
            add_martial = 1
            force_add_trait = melodian_pact_trait
        }
        add_stability = -8

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    NOT = { has_variable = diviner_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.22
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlorck_var
                                    has_variable = warlock_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.23
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    NOT = {
                                        has_variable = elementalist_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.24
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    NOT = {
                                        has_variable = illusionist_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.25
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    has_variable = druid_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.26
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Warlock Pact T1
me_magic_studying.14 = {
    type = country_event

    title = me_magic_studying.14_title
    desc = me_magic_studying.14_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.14.a"
        current_ruler = {
            add_popularity = popularity_medium
            add_legitimacy = 8
        }
        add_stability = 12

        current_ruler = {
            remove_variable = omni_studying_magic_cooldown
            remove_variable = omni_studying_warlock_var
        }
    }

    option = {
        name = "me_magic_studying.14.b"
        current_ruler = {
            add_martial = 1
            force_add_trait = melodian_pact_trait
        }
        add_stability = -8

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_diviner_var
                                    NOT = { has_variable = diviner_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.22
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlorck_var
                                    has_variable = warlock_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.23
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    NOT = {
                                        has_variable = elementalist_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.24
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    NOT = {
                                        has_variable = illusionist_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.25
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    has_variable = druid_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.26
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.19
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.20
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.21
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Cleric Success T2
me_magic_studying.15 = {
    type = country_event

    title = me_magic_studying.15_title
    desc = me_magic_studying.15_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.15.a"
        add_innovation = 1
        set_variable = omni_studying_phase_three_var
        remove_variable = omni_studying_phase_two_var
    }
}

# Druid Damage City T1
me_magic_studying.16 = {
    type = country_event

    title = me_magic_studying.16_title
    desc = me_magic_studying.16_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.16.a"
        add_innovation = 1
        set_variable = omni_studying_phase_three_var
        remove_variable = omni_studying_phase_two_var
    }
}

# Illusionist Made Someone Insane T2
me_magic_studying.17 = {
    type = country_event

    title = me_magic_studying.17_title
    desc = me_magic_studying.17_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.17.a"
        add_innovation = 1
        set_variable = omni_studying_phase_three_var
        remove_variable = omni_studying_phase_two_var
    }
}

# Elementalist Rock Slide T2
me_magic_studying.18 = {
    type = country_event

    title = me_magic_studying.18_title
    desc = me_magic_studying.18_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.18.a"
        add_innovation = 1
        set_variable = omni_studying_phase_three_var
        remove_variable = omni_studying_phase_two_var
    }
}


# PHASE THREE

# BASIC

# Burnt Out
me_magic_studying.19 = {
    type = country_event

    title = me_magic_studying.19_title
    desc = me_magic_studying.19_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.19.a"
        add_country_modifier = {
            name = magic_burnt_out_mod
            duration = 90
        }
        current_ruler = {
            force_add_trait = stressed
        }

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    has_variable = hierophant_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.11
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    NOT = {
                                        has_variable = hierophant_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.12
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.13
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlock_var
                                    NOT = { has_variable = warlock_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.14
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    has_variable = cleric_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.15
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    NOT = { has_variable = druid_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.16
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    has_variable = illusionist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.17
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    has_variable = elementalist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.18
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Embezzlement
me_magic_studying.20 = {
    type = country_event

    title = me_magic_studying.20_title
    desc = me_magic_studying.20_desc
    picture = ascetic
    left_portrait = current_ruler


    immediate = {
        add_treasury = -100
    }


    option = {
        name = "me_magic_studying.20.a"
        add_treasury = 150
        add_stability = -12
        add_country_modifier = {
            name = magic_embezzlement_mod
            duration = 182
        }

        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_diviner_var
                        NOT = { has_variable = diviner_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.27
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_hierophant_var
                        NOT = { has_variable = hierophant_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.28
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_necromancer_var
                        NOT = { has_variable = necromancer_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.29
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_warlock_var
                        NOT = { has_variable = warlock_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.30
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_druid_var
                        NOT = { has_variable = druid_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.31
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_elementalist_var
                        NOT = { has_variable = elementalist_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.32
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_illusionist_var
                        NOT = { has_variable = illusionist_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.33
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_cleric_var
                        NOT = { has_variable = cleric_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.34
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_diviner_var
                        has_variable = diviner_t2_unlocked_var
                        NOT = { has_variable = diviner_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.35
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_hierophant_var
                        has_variable = hierophant_t2_unlocked_var
                        NOT = { has_variable = hierophant_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.36
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_necromancer_var
                        has_variable = necromancer_t2_unlocked_var
                        NOT = { has_variable = necromancer_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.37
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_warlock_var
                        has_variable = warlock_t2_unlocked_var
                        NOT = { has_variable = warlock_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.38
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_druid_var
                        has_variable = druid_t2_unlocked_var
                        NOT = { has_variable = druid_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.39
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_elementalist_var
                        has_variable = elementalist_t2_unlocked_var
                        NOT = { has_variable = elementalist_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.40
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_illusionist_var
                        has_variable = illusionist_t2_unlocked_var
                        NOT = { has_variable = illusionist_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.41
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_cleric_var
                        has_variable = cleric_t2_unlocked_var
                        NOT = { has_variable = cleric_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.42
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_diviner_var
                        has_variable = diviner_t2_unlocked_var
                        has_variable = diviner_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.43
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_hierophant_var
                        has_variable = hierophant_t2_unlocked_var
                        has_variable = hierophant_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.44
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_necromancer_var
                        has_variable = necromancer_t2_unlocked_var
                        has_variable = necromancer_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.45
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_warlock_var
                        has_variable = warlock_t2_unlocked_var
                        has_variable = warlock_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.46
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_druid_var
                        has_variable = druid_t2_unlocked_var
                        has_variable = druid_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.47
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_elementalist_var
                        has_variable = elementalist_t2_unlocked_var
                        has_variable = elementalist_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.48
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_illusionist_var
                        has_variable = illusionist_t2_unlocked_var
                        has_variable = illusionist_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.49
                days = { 30 180 }
            }
        }
        ELSE = {
            limit = {
                current_ruler = {
                        AND = {
                            has_variable = omni_studying_cleric_var
                            has_variable = cleric_t2_unlocked_var
                            has_variable = cleric_t3_unlocked_var
                        }
                    }
                }
            trigger_event = {
                id = me_magic_studying.50
                days = { 30 180 }
            }
        }
    }

    option = {
        name = "me_magic_studying.20.b"
        add_political_influence = -35
        add_treasury = 50
        add_stability = -2
        
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    has_variable = hierophant_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.11
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    NOT = {
                                        has_variable = hierophant_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.12
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.13
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlock_var
                                    NOT = { has_variable = warlock_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.14
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    has_variable = cleric_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.15
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    NOT = { has_variable = druid_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.16
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    has_variable = illusionist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.17
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    has_variable = elementalist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.18
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Excelling at Studies
me_magic_studying.21 = {
    type = country_event

    title = me_magic_studying.21_title
    desc = me_magic_studying.21_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.21.a"
        add_political_influence = 15
        
        # Graduation Trigger
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_diviner_var
                        NOT = { has_variable = diviner_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.27
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_hierophant_var
                        NOT = { has_variable = hierophant_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.28
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_necromancer_var
                        NOT = { has_variable = necromancer_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.29
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_warlock_var
                        NOT = { has_variable = warlock_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.30
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_druid_var
                        NOT = { has_variable = druid_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.31
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_elementalist_var
                        NOT = { has_variable = elementalist_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.32
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_illusionist_var
                        NOT = { has_variable = illusionist_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.33
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_cleric_var
                        NOT = { has_variable = cleric_t2_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.34
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_diviner_var
                        has_variable = diviner_t2_unlocked_var
                        NOT = { has_variable = diviner_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.35
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_hierophant_var
                        has_variable = hierophant_t2_unlocked_var
                        NOT = { has_variable = hierophant_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.36
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_necromancer_var
                        has_variable = necromancer_t2_unlocked_var
                        NOT = { has_variable = necromancer_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.37
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_warlock_var
                        has_variable = warlock_t2_unlocked_var
                        NOT = { has_variable = warlock_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.38
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_druid_var
                        has_variable = druid_t2_unlocked_var
                        NOT = { has_variable = druid_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.39
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_elementalist_var
                        has_variable = elementalist_t2_unlocked_var
                        NOT = { has_variable = elementalist_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.40
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_illusionist_var
                        has_variable = illusionist_t2_unlocked_var
                        NOT = { has_variable = illusionist_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.41
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_cleric_var
                        has_variable = cleric_t2_unlocked_var
                        NOT = { has_variable = cleric_t3_unlocked_var }
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.42
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_diviner_var
                        has_variable = diviner_t2_unlocked_var
                        has_variable = diviner_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.43
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_hierophant_var
                        has_variable = hierophant_t2_unlocked_var
                        has_variable = hierophant_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.44
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_necromancer_var
                        has_variable = necromancer_t2_unlocked_var
                        has_variable = necromancer_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.45
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_warlock_var
                        has_variable = warlock_t2_unlocked_var
                        has_variable = warlock_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.46
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_druid_var
                        has_variable = druid_t2_unlocked_var
                        has_variable = druid_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.47
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_elementalist_var
                        has_variable = elementalist_t2_unlocked_var
                        has_variable = elementalist_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.48
                days = { 30 180 }
            }
        }
        IF = {
            limit = {
                current_ruler = {
                    AND = {
                        has_variable = omni_studying_illusionist_var
                        has_variable = illusionist_t2_unlocked_var
                        has_variable = illusionist_t3_unlocked_var
                    }
                }
            }
            trigger_event = {
                id = me_magic_studying.49
                days = { 30 180 }
            }
        }
        ELSE = {
            limit = {
                current_ruler = {
                        AND = {
                            has_variable = omni_studying_cleric_var
                            has_variable = cleric_t2_unlocked_var
                            has_variable = cleric_t3_unlocked_var
                        }
                    }
                }
            trigger_event = {
                id = me_magic_studying.50
                days = { 30 180 }
            }
        }
    }
}

# CLASS

# Diviner Accident T1
me_magic_studying.22 = {
    type = country_event

    title = me_magic_studying.22_title
    desc = me_magic_studying.22_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.22.b"
        current_ruler = {
            force_add_trait = blind
        }
        add_stability = -3

        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    has_variable = hierophant_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.11
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    NOT = {
                                        has_variable = hierophant_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.12
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.13
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlock_var
                                    NOT = { has_variable = warlock_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.14
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    has_variable = cleric_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.15
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    NOT = { has_variable = druid_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.16
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    has_variable = illusionist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.17
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    has_variable = elementalist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.18
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Warlock Insanity T2
me_magic_studying.23 = {
    type = country_event

    title = me_magic_studying.23_title
    desc = me_magic_studying.23_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.23.b"
        current_ruler = {
            add_martial = 1
            force_add_trait = maniac
            force_add_trait = lunatic
        }
        add_stability = -8
        
        hidden_effect = {
            random_list = {
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    has_variable = hierophant_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.11
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_hierophant_var
                                    NOT = {
                                        has_variable = hierophant_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.12
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_necromancer_var
                                    NOT = {
                                        has_variable = necromancer_t2_unlocked_var
                                    }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.13
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_warlock_var
                                    NOT = { has_variable = warlock_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.14
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_cleric_var
                                    has_variable = cleric_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.15
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_druid_var
                                    NOT = { has_variable = druid_t2_unlocked_var }
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.16
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_illusionist_var
                                    has_variable = illusionist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.17
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
                1 = {
                    if = {
                        limit = {
                            current_ruler = {
                                AND = {
                                    has_variable = omni_studying_elementalist_var
                                    has_variable = elementalist_t2_unlocked_var
                                }
                            }
                        }
                        trigger_event = {
                            id = me_magic_studying.18
                            days = { 30 180 }
                        }
                    }
                    else = {
                        random_list = {
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.8
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.9
                                    days = { 30 180 }
                                }
                            }
                            1 = {
                                trigger_event = {
                                    id = me_magic_studying.10
                                    days = { 30 180 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

# Elementalist Success T1
me_magic_studying.24 = {
    type = country_event

    title = me_magic_studying.24_title
    desc = me_magic_studying.24_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.24.b"
        current_ruler = {
            force_add_trait = blind
        }
        add_stability = -3
    }
}

# Illusionist Success T1
me_magic_studying.25 = {
    type = country_event

    title = me_magic_studying.25_title
    desc = me_magic_studying.25_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.25.b"
        current_ruler = {
            force_add_trait = blind
        }
        add_stability = -3
    }
}

# Druid Experiment Success T2
me_magic_studying.26 = {
    type = country_event

    title = me_magic_studying.26_title
    desc = me_magic_studying.26_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.26.b"
        current_ruler = {
            force_add_trait = blind
        }
        add_stability = -3
    }
}

# GRADUATION

# T1

# Diviner T1
me_magic_studying.27 = {
    type = country_event

    title = me_magic_studying.27_title
    desc = me_magic_studying.27_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.27.a"
        current_ruler = {
            if = {
                limit = { has_variable = first_time_mage_var }
                add_trait = mage_trait

                set_variable = diviner_t2_unlocked_var
                set_variable = first_magic_event_blocker_var
                remove_variable = omni_studying_diviner_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                set_variable = diviner_t2_unlocked_var
                remove_variable = omni_studying_diviner_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Hierophant T1
me_magic_studying.28 = {
    type = country_event

    title = me_magic_studying.28_title
    desc = me_magic_studying.28_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.28.a"
        current_ruler = {
            if = {
                limit = { has_variable = first_time_mage_var }
                add_trait = mage_trait
                
                set_variable = hierophant_t2_unlocked_var
                set_variable = first_magic_event_blocker_var
                remove_variable = omni_studying_hierophant_var
                remove_variable = omni_studying_magic_cooldown
                remove_variable = first_time_mage_var
            }
            else = {
                set_variable = hierophant_t2_unlocked_var
                remove_variable = omni_studying_hierophant_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Necromancer T1
me_magic_studying.29 = {
    type = country_event

    title = me_magic_studying.29_title
    desc = me_magic_studying.29_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.29.a"
        current_ruler = {
            if = {
                limit = { has_variable = first_time_mage_var }
                add_trait = mage_trait
                
                set_variable = necromancer_t2_unlocked_var
                set_variable = first_magic_event_blocker_var
                remove_variable = omni_studying_necromancer_var
                remove_variable = omni_studying_magic_cooldown
                remove_variable = first_time_mage_var
            }
            else = {
                set_variable = necromancer_t2_unlocked_var
                remove_variable = omni_studying_necromancer_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Warlock T1
me_magic_studying.30 = {
    type = country_event

    title = me_magic_studying.30_title
    desc = me_magic_studying.30_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.30.a"
        current_ruler = {
            if = {
                limit = { has_variable = first_time_mage_var }
                add_trait = mage_trait
                
                set_variable = warlock_t2_unlocked_var
                set_variable = first_magic_event_blocker_var
                remove_variable = omni_studying_warlock_var
                remove_variable = omni_studying_magic_cooldown
                remove_variable = first_time_mage_var
            }
            else = {
                set_variable = warlock_t2_unlocked_var
                remove_variable = omni_studying_warlock_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Druid T1
me_magic_studying.31 = {
    type = country_event

    title = me_magic_studying.31_title
    desc = me_magic_studying.31_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.31.a"
        current_ruler = {
            if = {
                limit = { has_variable = first_time_mage_var }
                add_trait = mage_trait
                
                set_variable = druid_t2_unlocked_var
                set_variable = first_magic_event_blocker_var
                remove_variable = omni_studying_druid_var
                remove_variable = omni_studying_magic_cooldown
                remove_variable = first_time_mage_var
            }
            else = {
                set_variable = druid_t2_unlocked_var
                remove_variable = omni_studying_druid_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Elementalist T1
me_magic_studying.32 = {
    type = country_event

    title = me_magic_studying.32_title
    desc = me_magic_studying.32_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.32.a"
        current_ruler = {
            if = {
                limit = { has_variable = first_time_mage_var }
                add_trait = mage_trait
                
                set_variable = elementalist_t2_unlocked_var
                set_variable = first_magic_event_blocker_var
                remove_variable = omni_studying_elementalist_var
                remove_variable = omni_studying_magic_cooldown
                remove_variable = first_time_mage_var
            }
            else = {
                set_variable = elementalist_t2_unlocked_var
                remove_variable = omni_studying_elementalist_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Illusionist T1
me_magic_studying.33 = {
    type = country_event

    title = me_magic_studying.33_title
    desc = me_magic_studying.33_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.33.a"
        current_ruler = {
            if = {
                limit = { has_variable = first_time_mage_var }
                add_trait = mage_trait
                
                set_variable = illusionist_t2_unlocked_var
                set_variable = first_magic_event_blocker_var
                remove_variable = omni_studying_illusionist_var
                remove_variable = omni_studying_magic_cooldown
                remove_variable = first_time_mage_var
            }
            else = {
                set_variable = illusionist_t2_unlocked_var
                remove_variable = omni_studying_illusionist_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Cleric T1
me_magic_studying.34 = {
    type = country_event

    title = me_magic_studying.34_title
    desc = me_magic_studying.34_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.34.a"
        current_ruler = {
            if = {
                limit = { has_variable = first_time_mage_var }
                add_trait = mage_trait
                
                set_variable = cleric_t2_unlocked_var
                set_variable = first_magic_event_blocker_var
                remove_variable = omni_studying_cleric_var
                remove_variable = omni_studying_magic_cooldown
                remove_variable = first_time_mage_var
            }
            else = {
                set_variable = cleric_t2_unlocked_var
                remove_variable = omni_studying_cleric_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}


# T2

# Diviner T2
me_magic_studying.35 = {
    type = country_event

    title = me_magic_studying.35_title
    desc = me_magic_studying.35_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.35.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = diviner_t3_unlocked_var
                remove_variable = omni_studying_diviner_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = mage_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = cleric_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = diviner_trait

                set_variable = diviner_t3_unlocked_var
                remove_variable = omni_studying_diviner_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Hierophant T2
me_magic_studying.36 = {
    type = country_event

    title = me_magic_studying.36_title
    desc = me_magic_studying.36_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.36.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = hierophant_t3_unlocked_var
                remove_variable = omni_studying_hierophant_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = mage_trait
                remove_trait = diviner_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = cleric_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = hierophant_trait

                set_variable = hierophant_t3_unlocked_var
                remove_variable = omni_studying_hierophant_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Necromancer T2
me_magic_studying.37 = {
    type = country_event

    title = me_magic_studying.37_title
    desc = me_magic_studying.37_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.37.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = necromancer_t3_unlocked_var
                remove_variable = omni_studying_necromancer_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = mage_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = cleric_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = diviner_trait
                add_trait = necromancer_trait

                set_variable = necromancer_t3_unlocked_var
                remove_variable = omni_studying_necromancer_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}



# Warlock T2
me_magic_studying.38 = {
    type = country_event

    title = me_magic_studying.38_title
    desc = me_magic_studying.38_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.38.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = warlock_t3_unlocked_var
                remove_variable = omni_studying_warlock_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = mage_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = cleric_trait
                remove_trait = illusionist_trait
                remove_trait = diviner_trait
                remove_trait = necromancer_trait
                add_trait = warlock_trait

                set_variable = warlock_t3_unlocked_var
                remove_variable = omni_studying_warlock_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Druid T2
me_magic_studying.39 = {
    type = country_event

    title = me_magic_studying.39_title
    desc = me_magic_studying.39_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.39.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = druid_t3_unlocked_var
                remove_variable = omni_studying_druid_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = mage_trait
                remove_trait = hierophant_trait
                remove_trait = diviner_trait
                remove_trait = elementalist_trait
                remove_trait = cleric_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = druid_trait

                set_variable = druid_t3_unlocked_var
                remove_variable = omni_studying_druid_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Elementalist T2
me_magic_studying.40 = {
    type = country_event

    title = me_magic_studying.40_title
    desc = me_magic_studying.40_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.40.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = elementalist_t3_unlocked_var
                remove_variable = omni_studying_elementalist_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = mage_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = diviner_trait
                remove_trait = cleric_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = elementalist_trait

                set_variable = elementalist_t3_unlocked_var
                remove_variable = omni_studying_elementalist_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Illusionist T2
me_magic_studying.41 = {
    type = country_event

    title = me_magic_studying.41_title
    desc = me_magic_studying.41_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.41.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = illusionist_t3_unlocked_var
                remove_variable = omni_studying_illusionist_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = mage_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = cleric_trait
                remove_trait = diviner_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = illusionist_trait

                set_variable = illusionist_t3_unlocked_var
                remove_variable = omni_studying_illusionist_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Cleric T2
me_magic_studying.42 = {
    type = country_event

    title = me_magic_studying.42_title
    desc = me_magic_studying.42_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.42.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = cleric_t3_unlocked_var
                remove_variable = omni_studying_cleric_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = mage_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = cleric_trait

                set_variable = cleric_t3_unlocked_var
                remove_variable = omni_studying_cleric_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# T3

# Diviner T3
me_magic_studying.43 = {
    type = country_event

    title = me_magic_studying.43_title
    desc = me_magic_studying.43_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.43.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = diviner_t4_unlocked_var
                remove_variable = omni_studying_diviner_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = cleric_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = archmage_trait

                set_variable = diviner_t4_unlocked_var
                remove_variable = omni_studying_diviner_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Hierophant T3
me_magic_studying.44 = {
    type = country_event

    title = me_magic_studying.44_title
    desc = me_magic_studying.44_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.44.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = hierophant_t4_unlocked_var
                remove_variable = omni_studying_hierophant_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = cleric_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = archmage_trait

                set_variable = hierophant_t4_unlocked_var
                remove_variable = omni_studying_hierophant_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Necromancer T3
me_magic_studying.45 = {
    type = country_event

    title = me_magic_studying.45_title
    desc = me_magic_studying.45_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.45.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = necromancer_t4_unlocked_var
                remove_variable = omni_studying_necromancer_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = cleric_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = archmage_trait

                set_variable = necromancer_t4_unlocked_var
                remove_variable = omni_studying_necromancer_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Warlock T3
me_magic_studying.46 = {
    type = country_event

    title = me_magic_studying.46_title
    desc = me_magic_studying.46_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.46.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = warlock_t4_unlocked_var
                remove_variable = omni_studying_warlock_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = cleric_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = archmage_trait

                set_variable = warlock_t4_unlocked_var
                remove_variable = omni_studying_warlock_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Druid T3
me_magic_studying.47 = {
    type = country_event

    title = me_magic_studying.47_title
    desc = me_magic_studying.47_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.47.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = druid_t4_unlocked_var
                remove_variable = omni_studying_druid_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = cleric_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = archmage_trait

                set_variable = druid_t4_unlocked_var
                remove_variable = omni_studying_druid_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Elementalist T3
me_magic_studying.48 = {
    type = country_event

    title = me_magic_studying.48_title
    desc = me_magic_studying.48_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.48.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = elementalist_t4_unlocked_var
                remove_variable = omni_studying_elementalist_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = cleric_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = archmage_trait

                set_variable = elementalist_t4_unlocked_var
                remove_variable = omni_studying_elementalist_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Illusionist T3
me_magic_studying.49 = {
    type = country_event

    title = me_magic_studying.49_title
    desc = me_magic_studying.49_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.49.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = illusionist_t4_unlocked_var
                remove_variable = omni_studying_illusionist_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = cleric_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = archmage_trait

                set_variable = illusionist_t4_unlocked_var
                remove_variable = omni_studying_illusionistr_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}

# Cleric T3
me_magic_studying.50 = {
    type = country_event

    title = me_magic_studying.38_title
    desc = me_magic_studying.38_desc
    picture = ascetic
    left_portrait = current_ruler


    option = {
        name = "me_magic_studying.50.a"
        current_ruler = {
            if = {
                limit = { has_trait = archmage_trait }
                
                set_variable = cleric_t4_unlocked_var
                remove_variable = omni_studying_cleric_var
                remove_variable = omni_studying_magic_cooldown
            }
            else = {
                remove_trait = cleric_trait
                remove_trait = hierophant_trait
                remove_trait = druid_trait
                remove_trait = elementalist_trait
                remove_trait = diviner_trait
                remove_trait = illusionist_trait
                remove_trait = warlock_trait
                remove_trait = necromancer_trait
                add_trait = archmage_trait

                set_variable = cleric_t4_unlocked_var
                remove_variable = omni_studying_cleric_var
                remove_variable = omni_studying_magic_cooldown
            }
        }
    }
}



