namespace = me_jaraharum

me_jaraharum.1 = {
    type = country_event

    title = me_jaraharum_1_title
    desc = me_jaraharum_1_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_1.a"
            ####Gr8 purge
    }
    option = {
        name = "me_jaraharum_1.b"
            ####Gr8 purge
    }
}

# Great Meeting
me_jaraharum.2 = {
    type = country_event
    
    title = me_jaraharum_2_title 
    desc = me_jaraharum_2_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:GB8.current_ruler
    right_portrait = c:GB9.current_ruler
    right_portrait = c:GBA.current_ruler

    option = {
        name = "me_jaraharum_2.a"
            remove_country_modifier = treaty_friends_mod
            c:GBA = {
                remove_country_modifier = treaty_friends_mod
            }
            c:GB9 = {
                remove_country_modifier = treaty_friends_mod
            }
            c:GB8 = {
                remove_country_modifier = treaty_friends_mod
            }
            area:inner_dragon_pass = {
                add_provincial_claim_effect = yes
            }
            
        hidden_effect = { 
                every_country = {
                IF = {
                    limit = {
                        OR = {
                            tag = GBA
                            tag = GB9
                            tag = GB8
                        }
                    }
                trigger_event = me_jaraharum.3
                }
            }
        }
    }
}

# Goblin Subjugate Response
me_jaraharum.3 = {
    type = country_event

    title = me_jaraharum_3_title
    desc = me_jaraharum_3_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_3.a"
        c:SV0 = {
            make_subject = {
                target = ROOT
                type = feudatory
            }
        }
    }
    option = {
        name = "me_jaraharum_3.b"
        hidden_effect ={ 
            C:SV0 = {
                declare_war_with_wargoal = {
                    war_goal = conquer_wargoal
                    province = ROOT:capital_scope
                    target = ROOT
                }
                add_stability = 50
                add_aggressive_expansion = -25
                add_war_exhaustion = -1
            }
        }
    }
}











# Noble Revolt Start / Favor Certain Goblin Chiefs over others
me_jaraharum.19 = {
    type = country_event

    title = me_jaraharum_1_title
    desc = me_jaraharum_1_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_1.a"
            ####Gr8 purge
    }
    option = {
        name = "me_jaraharum_1.b"
            ####Gr8 purge
    }
}

# Noble Revolt / Attack the Army or Sneak into the King
me_jaraharum.29 = {
    type = country_event

    title = me_jaraharum_2_title
    desc = me_jaraharum_2_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_2.a"
            ####Gr8 purge
    }
    option = {
        name = "me_jaraharum_2.b"
            ####Gr8 purge
    }
}

# Noble Revolt / Attack the Army Consequence
me_jaraharum.39 = {
    type = country_event

    title = me_jaraharum_3_title
    desc = me_jaraharum_3_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_3.a"
            ####Gr8 purge
    }
}

# Noble Revolt / Sneak into the King Consequence
me_jaraharum.49 = {
    type = country_event

    title = me_jaraharum_4_title
    desc = me_jaraharum_4_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_4.a"
            ####Gr8 purge
    }
}

# Constitution Drafted
me_jaraharum.59 = {
    type = country_event

    title = me_jaraharum_5_title
    desc = me_jaraharum_5_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_5.a"
                add_country_modifier = {
                name = constitution_mod
                duration = -1
            }
            hidden_effect = {
                C:GB8 = { every_owned_province = { set_owned_by = SV0 } }
                C:GB9 = { every_owned_province = { set_owned_by = SV0 } }
                C:GBA = { every_owned_province = { set_owned_by = SV0 } }
            }
            change_country_name = "Rekkaivetali"
            change_government = aristocratic_republic
            add_stability = 10
            hidden_effect = {
                change_country_adjective = "Confederate"
                change_country_color = "death_grey"
                change_country_tag = KDC
                change_country_flag = "SV0"
            }
            add_5_free_province_investments = yes
            capital_scope = {
                capital_formable_medium_effect = yes
                formable_capital_modifier_normal_effect = yes
                define_pop = {
                    type = nobles
                    culture = kana
                    religion = the_old_father_silver
                }
                define_pop = {
                    type = freemen
                    culture = kana
                    religion = the_old_pantheon
                }
                define_pop = {
                    type = freemen
                    culture = kana
                    religion = the_old_pantheon
                }
            }
        }
    option = {
        name = "me_jaraharum_5.b"
            add_country_modifier = {
                name = constitution_mod
                duration = -1
            }
            hidden_effect = {
                C:GB8 = { every_owned_province = { set_owned_by = SV0 } }
                C:GB9 = { every_owned_province = { set_owned_by = SV0 } }
                C:GBA = { every_owned_province = { set_owned_by = SV0 } }
            }
            change_country_name = "Hesa Hui'ui"
            change_government = aristocratic_republic
            add_stability = 10
            hidden_effect = {
                change_country_adjective = "Confederate"
                change_country_color = "death_grey"
                change_country_tag = KDC
                change_country_flag = "SV0"
            }
            add_5_free_province_investments = yes
            capital_scope = {
                capital_formable_medium_effect = yes
                formable_capital_modifier_normal_effect = yes
                define_pop = {
                    type = nobles
                    culture = kana
                    religion = the_old_father_silver
                }
                define_pop = {
                    type = freemen
                    culture = kana
                    religion = the_old_pantheon
                }
                define_pop = {
                    type = freemen
                    culture = kana
                    religion = the_old_pantheon
                }
            }
        }
    }








########GREAT MEETING

me_jaraharum.39 = {
    type = country_event

    title = me_jaraharum_3_title
    desc = me_jaraharum_3_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_3.a"
        ####GAIN GOBLIN TRADITIONS
        create_unit = {
            navy = no
            location = 5562
            commander = ruler
            while = {
                count = 2
                add_subunit = archers
            }
            while = {
                count = 2
                add_subunit = light_cavalry
            }
            while = {
                count = 6
                add_subunit = light_infantry
            }
            while = {
                count = 4
                add_subunit = heavy_infantry
            }
            while = {
                count = 3
                add_subunit = supply_train
            }
            add_food = 200
            add_morale = 2
        }
            area:dragon_pass_center_2 = {
                add_provincial_claim_effect = yes
            }
            area:dragon_pass_center_1 = {
                add_provincial_claim_effect = yes
            }
        hidden_effect = {
            C:GB8 = { every_owned_province = { set_owned_by = SV0 } }
            C:GB9 = { every_owned_province = { set_owned_by = SV0 } }
            C:GBA = { every_owned_province = { set_owned_by = SV0 } }
        }
    }
}

#######CONFEDERACY
me_jaraharum.59 = {
    type = country_event

    title = me_jaraharum_5_title
    desc = me_jaraharum_5_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = scope:rebel_scum

    immediate = {
        char:87 = {
            save_scope_as = rebel_scum
        }
    }

    option = {      
        name = "me_jaraharum_5.a"
        remove_country_modifier = treaty_friends_mod
        hidden_effect = { 
            make_subject = {
                target = c:GB8
                type = feudatory
            }
            make_subject = {
                target = c:GB9
                type = feudatory
            }
            make_subject = {
                target = c:GBA
                type = feudatory
            }
            c:GBA = {
                remove_country_modifier = treaty_friends_mod
            }
            c:GB9 = {
                remove_country_modifier = treaty_friends_mod
            }
            c:GB8 = {
                remove_country_modifier = treaty_friends_mod
            }
            area:inner_dragon_pass = {
                add_provincial_claim_effect = yes
            }
        }
        start_civil_war = scope:rebel_scum
        hidden_effect = {
            scope:rebel_scum.employer = {
                change_country_name = "Loyalist Forces"
                change_country_adjective = "Loyalists"
                change_country_color = forrj_red
                change_country_flag = "SV0"
                change_government = feudal_monarchy
                save_scope_as = jaraharum_revolt_country
            }
        }
        add_stability = -5
    }
}
me_jaraharum.69 = {
    type = country_event

    title = me_jaraharum_6_title
    desc = me_jaraharum_6_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:GB8.current_ruler
    right_portrait = c:GB9.current_ruler
    right_portrait = c:GBA.current_ruler

    option = {      
        name = "me_jaraharum_6.a"
        add_stability = 10
        add_country_modifier = {
            name = constitution_mod
            duration = -1
        }
        hidden_effect = {
            C:GB8 = { every_owned_province = { set_owned_by = SV0 } }
            C:GB9 = { every_owned_province = { set_owned_by = SV0 } }
            C:GBA = { every_owned_province = { set_owned_by = SV0 } }
        }
    }
}
me_jaraharum.79 = {  #Integration
    type = country_event

    title = me_jaraharum_7_title
    desc = me_jaraharum_7_desc
    picture = city_country
    left_portrait = current_ruler

    option = {      
        name = "me_jaraharum_7.a"
        add_stability = 10
        ###GOBLIN TRADITIONS
        random_country_culture = {
            limit = {
                this.culture = culture:kana
            }
            set_country_culture_right = nobles
        }
    }
}


