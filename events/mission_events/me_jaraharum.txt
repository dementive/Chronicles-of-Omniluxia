namespace = me_jaraharum



# Imperial

me_jaraharum.1 = {
    type = country_event

    title = me_jaraharum_1_title
    desc = me_jaraharum_1_desc
    picture = city_country
    left_portrait = current_ruler

    immediate = {
        random_family = {
            limit = {
                NOT = { this = root.current_ruler.family }
            }
            save_scope_as = rebel_family
        }
    }

    option = {
        name = "me_jaraharum_1.a"
        custom_tooltip = me_jaraharum_1_tooltip
        add_country_modifier = {
            name = great_purge_mod
            duration = 1825
        }
        change_government = despotic_monarchy
        add_stability = 5
        hidden_effect = {
            p:5562 = {
                random_pops_in_province = {
                    kill_pop = yes
                }
            }
        }
    }
}

# Great Meeting
me_jaraharum.2 = {
    type = country_event
    
    title = me_jaraharum_2_title 
    desc = me_jaraharum_2_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:GB8.current_ruler
    right_portrait = c:GB9.current_ruler
    right_portrait = c:GBA.current_ruler

    option = {
        name = "me_jaraharum_2.a"
        custom_tooltip = me_jaraharum_2_tooltip
        remove_country_modifier = treaty_friends_mod
        hidden_effect = {
            c:GBA = {
                remove_country_modifier = treaty_friends_mod
            }
            c:GB9 = {
                remove_country_modifier = treaty_friends_mod
            }
            c:GB8 = {
                remove_country_modifier = treaty_friends_mod
            }
        }
        area:inner_dragon_pass = {
            add_provincial_claim_effect = yes
        }
        custom_tooltip = jaraharum_stooltip_13
            
        hidden_effect = { 
                every_country = {
                IF = {
                    limit = {
                        OR = {
                            tag = GBA
                            tag = GB9
                            tag = GB8
                        }
                    }
                trigger_event = me_jaraharum.3
                }
            }
        }
    }
}

# Goblin Subjugate Response
me_jaraharum.3 = {
    type = country_event

    title = me_jaraharum_3_title
    desc = me_jaraharum_3_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_3.a"
        custom_tooltip = me_jaraharum_3_tooltip.a
        c:SV0 = {
            make_subject = {
                target = ROOT
                type = feudatory
            }
        }
    }
    option = {
        name = "me_jaraharum_3.b"
        custom_tooltip = me_jaraharum_3_tooltip.b
        hidden_effect ={ 
            C:SV0 = {
                declare_war_with_wargoal = {
                    war_goal = conquer_wargoal
                    province = ROOT.capital_scope
                    target = ROOT
                }
                add_stability = 50
                add_aggressive_expansion = -25
                add_war_exhaustion = -1
            }
        }
    }
}

# Grand Army
me_jaraharum.4 = {
    type = country_event

    title = me_jaraharum_4_title
    desc = me_jaraharum_4_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_4.a"
        custom_tooltip = me_jaraharum_4_tooltip
        add_country_modifier = {
            name = dwarf_army_focus_mod
            duration = -1
        }
        hidden_effect = {
            C:GB8 = { every_owned_province = { set_owned_by = SV0 } }
            C:GB9 = { every_owned_province = { set_owned_by = SV0 } }
            C:GBA = { every_owned_province = { set_owned_by = SV0 } }

            create_unit = {
                navy = no
                name = "Grand Dwarven Army"
                location = capital_scope
                hidden_effect = {
                    add_subunit = light_infantry
                    add_subunit = heavy_infantry
                    add_subunit = heavy_infantry
                    add_subunit = heavy_infantry
                    add_subunit = heavy_infantry
                    add_subunit = supply_train
                    add_subunit = engineer_cohort                                    
                    add_food = 150
                    add_morale = 4
                }
            }
        }
    }
    option = {
        name = "me_jaraharum_4.b"
        custom_tooltip = me_jaraharum_4_tooltip
        add_country_modifier = {
            name = goblin_army_focus_mod
            duration = -1
        }
        hidden_effect = {
            C:GB8 = { every_owned_province = { set_owned_by = SV0 } }
            C:GB9 = { every_owned_province = { set_owned_by = SV0 } }
            C:GBA = { every_owned_province = { set_owned_by = SV0 } }

            create_unit = {
                navy = no
                name = "Kana'i Charioteers"
                location = capital_scope
                hidden_effect = {
                    add_subunit = light_infantry
                    add_subunit = light_infantry
                    add_subunit = light_infantry
                    add_subunit = light_infantry
                    add_subunit = light_infantry
                    add_subunit = light_infantry
                    add_subunit = chariots
                    add_subunit = chariots
                    add_subunit = supply_train                                    
                    add_food = 150
                    add_morale = 4
                }
            }
        }
    }
}

# Wizard Academy
me_jaraharum.5 = {
    type = country_event

    title = me_jaraharum_5_title
    desc = me_jaraharum_5_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_5.a"
        custom_tooltip = me_jaraharum_5_tooltip
        show_as_tooltip = {
            add_treasury = -100
            p:5561 = {
                change_province_name = Jorrmundabi
                hidden_effect = {
                    create_state_pop = mages
                    create_state_pop = mages
                }
                add_permanent_province_modifier = {
                    name = jorrmundabi_academy_mod
                    duration = -1
                }
            }
            add_innovation = 5
        }
    }
}

# Hobgoblin Academy
me_jaraharum.6 = {
    type = country_event

    title = me_jaraharum_6_title
    desc = me_jaraharum_6_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:HOB.current_ruler

    option = {
        name = "me_jaraharum_6.a"
        custom_tooltip = me_jaraharum_6_tooltip
        show_as_tooltip = {
            p:5561 = {
                define_pop = {
                    type = mages
                    culture = droyuni
                    religion = the_old_pantheon
                }
                define_pop = {
                    type = mages
                    culture = droyuni
                    religion = the_old_pantheon
                }
                define_pop = {
                    type = mages
                    culture = tileshkelaz
                    religion = the_old_pantheon
                }
            }
            add_country_modifier = {
                name = hobgoblin_research_mod
                duration = -1
            }
            add_innovation = 5
        }
    }
}

# Become a Lich King
me_jaraharum.7 = {
    type = country_event

    title = me_jaraharum_7_title
    desc = me_jaraharum_7_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_7.a"
        custom_tooltip = me_jaraharum_7_tooltip
        
        custom_tooltip = jaraharum_stooltip_4
        hidden_effect = {
            area:dragon_pass_north = {
                add_provincial_claim_effect = yes
            }
            area:dragon_pass_shout = {
                add_provincial_claim_effect = yes
            }
            area:dragon_pass_center_3 = {
                add_provincial_claim_effect = yes
            }
            area:dragon_mountains_foothills_1 = {
                add_provincial_claim_effect = yes
            }
            area:dragon_mountains_foothills_2 = {
                add_provincial_claim_effect = yes
            }
            area:dragon_mountains_foothills_3 = {
                add_provincial_claim_effect = yes
            }
        }
        add_innovation = 5
    }
}

# Immortal Empire
me_jaraharum.8 = {
    type = country_event

    title = me_jaraharum_8_title
    desc = me_jaraharum_8_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_8.a"
        custom_tooltip = me_jaraharum_8_tooltip
        show_as_tooltip = {
            change_country_name = "Ekkdejakheim"
            change_government = imperium
            add_country_modifier = {
                name = immortal_invasions_mod
                duration = 7300
            }
            custom_tooltip = jaraharum_stooltip_4
            add_stability = 10
        }
    }
}




# CONFEDERACY

# Noble Revolt Start
me_jaraharum.9 = {
    type = country_event

    title = me_jaraharum_9_title
    desc = me_jaraharum_9_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:GB8.current_ruler
    right_portrait = c:GB9.current_ruler
    right_portrait = c:GBA.current_ruler

    option = {
        name = "me_jaraharum_9.a"
        custom_tooltip = me_jaraharum_9_tooltip
        trigger_event = {
            id = me_jaraharum.10
            days = { 15 25 }
        }
    }
}

# Noble Revolt / Attack the Army or Sneak into the King
me_jaraharum.10 = {
    type = country_event

    title = me_jaraharum_10_title
    desc = me_jaraharum_10_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:GB8.current_ruler
    right_portrait = c:GB9.current_ruler
    right_portrait = c:GBA.current_ruler

    option = {
        name = "me_jaraharum_10.a"
        trigger_event = {
            id = me_jaraharum.11
            days = { 5 10 }
        }
        custom_tooltip = me_jaraharum_10_tooltip.a
    }
    option = {
        name = "me_jaraharum_10.b"
        trigger_event = {
            id = me_jaraharum.12
            days = { 5 10 }
        }
        custom_tooltip = me_jaraharum_10_tooltip.b
    }
}

# Noble Revolt / Attack the Army Consequence
me_jaraharum.11 = {
    type = country_event

    title = me_jaraharum_11_title
    desc = me_jaraharum_11_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:GB8.current_ruler
    right_portrait = c:GB9.current_ruler
    right_portrait = c:GBA.current_ruler

    option = {
        name = "me_jaraharum_11.a"
        custom_tooltip = me_jaraharum_11_tooltip
        p:5562 = {
            random_pops_in_province = {
                kill_pop = yes
            }
            random_pops_in_province = {
                kill_pop = yes
            }
            random_pops_in_province = {
                kill_pop = yes
            }
        }
        add_treasury = -50
        hidden_effect = {
            char:87 = {
                banish = yes
            }
        }
    }
}

# Noble Revolt / Sneak into the King Consequence
me_jaraharum.12 = {
    type = country_event

    title = me_jaraharum_12_title
    desc = me_jaraharum_12_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:GB8.current_ruler
    right_portrait = c:GB9.current_ruler
    right_portrait = c:GBA.current_ruler

    immediate = {
        char:87 = {
            save_scope_as = rebel_scum
        }
    }

    option = {
        name = "me_jaraharum_12.a"
        custom_tooltip = me_jaraharum_12_tooltip
        hidden_effect = {
            create_unit = {
                navy = no
                name = "Kana'i Allies"
                location = capital_scope
                hidden_effect = {
                    add_subunit = light_infantry
                    add_subunit = chariots                                        
                    add_food = 150
                    add_morale = 3
                }
            }

            start_civil_war = scope:rebel_scum
            scope:rebel_scum.employer = {
                change_country_name = "Loyalist Forces"
                change_country_adjective = "Loyalists"
                change_country_color = forrj_red
                change_country_flag = "SV0"
                change_government = feudal_monarchy
                save_scope_as = jaraharum_revolt_country
            }
        }
        add_stability = -5
    }
}

# Constitution Drafted
me_jaraharum.13 = {
    type = country_event

    title = me_jaraharum_13_title
    desc = me_jaraharum_13_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:GB8.current_ruler
    right_portrait = c:GB9.current_ruler
    right_portrait = c:GBA.current_ruler

    option = {
        name = "me_jaraharum_13.a"
            add_tyranny = 35
            add_country_modifier = {
                name = constitution_mod
                duration = -1
            }
            hidden_effect = {
                C:GB8 = { every_owned_province = { set_owned_by = SV0 } }
                C:GB9 = { every_owned_province = { set_owned_by = SV0 } }
                C:GBA = { every_owned_province = { set_owned_by = SV0 } }
                create_character = {
                    culture = kana
                    religion = the_old_father_silver
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
            }
            change_country_name = "Rekkaivetali"
            change_government = aristocratic_republic
            add_stability = 10
            hidden_effect = {
                change_country_adjective = "Confederate"
                change_country_color = "kanai_confed_purple"
                change_country_tag = KDC
                change_country_flag = "SV0"
            }
            add_5_free_province_investments = yes
            capital_scope = {
                capital_formable_medium_effect = yes
                formable_capital_modifier_normal_effect = yes
                define_pop = {
                    type = nobles
                    culture = kana
                    religion = the_old_father_silver
                }
                define_pop = {
                    type = freemen
                    culture = kana
                    religion = the_old_pantheon
                }
                define_pop = {
                    type = freemen
                    culture = kana
                    religion = the_old_pantheon
                }
            }
        }
    option = {
        name = "me_jaraharum_13.b"
            add_country_modifier = {
                name = constitution_mod
                duration = -1
            }
            hidden_effect = {
                C:GB8 = { every_owned_province = { set_owned_by = SV0 } }
                C:GB9 = { every_owned_province = { set_owned_by = SV0 } }
                C:GBA = { every_owned_province = { set_owned_by = SV0 } }
                create_character = {
                    culture = kana
                    religion = the_old_father_silver
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
                create_character = {
                    culture = kana
                    religion = the_old_pantheon
                }
            }
            change_country_name = "Mun'un Hui'ui"
            change_government = aristocratic_republic
            add_stability = 10
            hidden_effect = {
                change_country_adjective = "Confederate"
                change_country_color = "kanai_confed_purple"
                change_country_tag = KDC
                change_country_flag = "SV0"
            }
            add_5_free_province_investments = yes
            capital_scope = {
                capital_formable_medium_effect = yes
                formable_capital_modifier_normal_effect = yes
                define_pop = {
                    type = nobles
                    culture = kana
                    religion = the_old_father_silver
                }
                define_pop = {
                    type = freemen
                    culture = kana
                    religion = the_old_pantheon
                }
                define_pop = {
                    type = freemen
                    culture = kana
                    religion = the_old_pantheon
                }
            }
        }
    }

# Sister Cities
me_jaraharum.14 = {
    type = country_event

    title = me_jaraharum_14_title
    desc = me_jaraharum_14_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:HOB.current_ruler

    option = {
        name = "me_jaraharum_14.a"
        custom_tooltip = me_jaraharum_14_tooltip
        show_as_tooltip = {
        add_political_influence = -20
            p:5559 = {
                add_permanent_province_modifier = {
                    name = sister_city_mod
                    duration = -1
                }
            }
            p:5557 = {
                add_permanent_province_modifier = {
                    name = sister_city_mod
                    duration = -1
                }
            }
            p:5554 = {
                add_permanent_province_modifier = {
                    name = sister_city_mod
                    duration = -1
                }
            }
        }
    }
}

# Hobgoblin Allies
me_jaraharum.15 = {
    type = country_event

    title = me_jaraharum_15_title
    desc = me_jaraharum_15_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:HOB.current_ruler

    option = {
        name = "me_jaraharum_15.a"
        custom_tooltip = me_jaraharum_15_tooltip
        hidden_effect = {
            create_unit = {
                navy = no
                name = "Hobgoblin Auxiliaries"
                location = capital_scope
                hidden_effect = {
                    add_subunit = light_infantry
                    add_subunit = light_infantry
                    add_subunit = light_infantry
                    add_subunit = light_infantry
                    add_subunit = heavy_infantry
                    add_subunit = heavy_infantry
                    add_subunit = light_cavalry
                    add_subunit = light_cavalry                                     
                    add_food = 150
                    add_morale = 4
                }
            }
        }
        show_as_tooltip = {
            add_political_influence = -25
            p:5562 = {
                define_pop = {
                    type = freemen
                    culture = droyuni
                    religion = the_old_pantheon
                }
                define_pop = {
                    type = freemen
                    culture = droyuni
                    religion = the_old_pantheon
                }
            }
        }
        custom_tooltip = jaraharum_stooltip_9
    }
}

# Hobgoblin Mages
me_jaraharum.16 = {
    type = country_event

    title = me_jaraharum_16_title
    desc = me_jaraharum_16_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:HOB.current_ruler

    option = {
        name = "me_jaraharum_16.a"
        custom_tooltip = me_jaraharum_16_tooltip
        show_as_tooltip = {
            add_treasury = -100
            p:5561 = {
                change_province_name = Jorrmundabi
                define_pop = {
                    type = mages
                    culture = droyuni
                    religion = the_old_pantheon
                }
                add_permanent_province_modifier = {
                    name = jorrmundabi_academy_mod
                    duration = -1
                }
            }
            add_innovation = 5
            area:dragon_mountains_foothills_1 = {
                add_provincial_claim_effect = yes
            }
        }
    }
}

# Dragkhanic Invasion
me_jaraharum.17 = {
    type = country_event

    title = me_jaraharum_17_title
    desc = me_jaraharum_17_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:SOV.current_ruler

    option = {
        name = "me_jaraharum_17.a"
        custom_tooltip = me_jaraharum_17_tooltip
        show_as_tooltip = {
            p:5561 = {
                define_pop = {
                    type = slaves
                    culture = sovenerian
                    religion = helluvian
                }
                define_pop = {
                    type = slaves
                    culture = sovenerian
                    religion = dragkhan_pantheon
                }
            }
            custom_tooltip = jaraharum_stooltip_8
            add_3_free_province_investments = yes
        }
    }
}

# Integration
me_jaraharum.18 = {
    type = country_event

    title = me_jaraharum_18_title
    desc = me_jaraharum_18_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_18.a"
        custom_tooltip = me_jaraharum_18_tooltip
        show_as_tooltip = {
            add_political_influence = -100
        }
        random_country_culture = {
            limit = {
                this.culture = culture:kana
            }
            set_country_culture_right = nobles
        }
        custom_tooltip = jaraharum_stooltip_11
    }
}

# Syncretic Faith
me_jaraharum.19 = {
    type = country_event

    title = me_jaraharum_19_title
    desc = me_jaraharum_19_desc
    picture = city_country
    left_portrait = current_ruler
    #right_portrait = scope:the_kanai_priest

    #immediate = {
    #    random_character = {
    #        limit = {
    #           job_holder:office_high_priest_monarchy
    #        }
    #        save_scope_as = the_kanai_priest
    #    }
    #}

    option = {
        name = "me_jaraharum_19.a"
        custom_tooltip = me_jaraharum_19_tooltip
        show_as_tooltip ={
            add_political_influence = -100
        }
        custom_tooltip = jaraharum_stooltip_12
        set_variable = jaraharum_gobbo_syncretic_faith
    }
}


# Development
# Mountain Riches
me_jaraharum.20 = {
    type = country_event

    title = me_jaraharum_20_title
    desc = me_jaraharum_20_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_20.a"
        custom_tooltip = me_jaraharum_20_tooltip
        show_as_tooltip = {
        add_5_free_province_investments = yes
    }
}

# Mountain Gates
me_jaraharum.21 = {
    type = country_event

    title = me_jaraharum_21_title
    desc = me_jaraharum_21_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_21.a"
        custom_tooltip = me_jaraharum_21_tooltip
        show_as_tooltip = {
            add_treasury = -100
            add_3_free_province_investments = yes
            p:5551 = {
                change_province_name = "Jarahaborr"
                add_permanent_province_modifier = {
                    name = mountain_gate_mod
                    duration = -1
                }
                hidden_effect = {
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                }
            }
            p:4460 = {
                change_province_name = "Tipuka Ema'a"
                add_permanent_province_modifier = {
                    name = mountain_gate_mod
                    duration = -1
                }
                hidden_effect = {
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                }
            }
        }
    }
}

# Imported Food
me_jaraharum.22 = {
    type = country_event

    title = me_jaraharum_22_title
    desc = me_jaraharum_22_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_22.a"
        custom_tooltip = me_jaraharum_22_tooltip
        show_as_tooltip = {
            add_3_free_province_investments = yes
            p:5562 = {
                add_permanent_province_modifier = {
                    name = imported_food_mod
                    duration = -1
                }
                hidden_effect = {
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                    define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                }
            }
        }
    }
}

# Mountain Hold
me_jaraharum.23 = {
    type = country_event

    title = me_jaraharum_23_title
    desc = me_jaraharum_23_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_jaraharum_23.a"
        custom_tooltip = me_jaraharum_23_tooltip
        show_as_tooltip = {
            add_treasury = -200
            p:5562 = {
                add_permanent_province_modifier = {
                name = sorrborr_mod
                duration = -1
            }
            hidden_effect = {
                define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                define_pop = {
                        type = freemen
                        culture = dolin
                        religion = the_old_father_silver
                    }
                }
            }
        }
    }
}

