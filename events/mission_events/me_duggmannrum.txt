namespace = me_duggmannrum

####MISSION EVENTS
me_duggmannrum.1 = { ##PLANNING FOR WAR
    type = country_event

    title = me_duggmannrum_1_title
    desc = me_duggmannrum_1_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_1.a"
        custom_tooltip = me_duggmannrum_1_tooltip
        show_as_tooltip = {
            add_political_influence = -15
            add_country_modifier = {
                name = prepared_for_war_mod
                duration = 1825
            }
        }
    }
}
me_duggmannrum.2 = {  ##SEND SUBJUGATION
    type = country_event

    title = me_duggmannrum_2_title
    desc = me_duggmannrum_2_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:SV5.current_ruler
    right_portrait = c:SV6.current_ruler
    right_portrait = c:SV7.current_ruler
    right_portrait = c:SV8.current_ruler
    

    option = {
        name = "me_duggmannrum_2.a"
        custom_tooltip = duggmannrum_stooltip_1
        hidden_effect = { 
                every_country = {
                IF = {
                    limit = {
                        NOT = {
                            OR = {
                                tag = SV1
                                tag = SV3
                                tag = SV5
                                tag = SV6
                                tag = SV7
                                tag = SV8
                            }
                        }
                    }
                trigger_event = me_omnispecial.2
                }
            }
        }
    }   
}
me_duggmannrum.3 = { ##UNI WARS
    type = country_event

    title = me_duggmannrum_3_title
    desc = me_duggmannrum_3_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:88
    

    option = {
        name = "me_duggmannrum_3.a"
        mission_claim_region_effect = { REGION = green_valey_region }
        add_military_experience = 10
    }
}
me_duggmannrum.4 = { ##MEET WITH SENN VASSAL
    type = country_event

    title = me_duggmannrum_4_title
    desc = me_duggmannrum_4_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89

    option = {
        name = "me_duggmannrum_4.a"
        custom_tooltip = duggmannrum_stooltip_2
    }
}
me_duggmannrum.5 = { ## SENN DECISION
    type = country_event

    title = me_duggmannrum_5_title
    desc = me_duggmannrum_5_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:88

    option = {
        ai_chance = { factor = 0.5 }
        name = "me_duggmannrum_5.a"
        C:SV3 ={
            make_subject = {
                    target = c:SV1
                    type = feudatory
            }
        }
        char:88 = {
            add_friend = char:89
        }
        hidden_effect = {
            c:SV3 = { trigger_event = me_duggmannrum.6}
        }
    }
    option = {
        name = "me_duggmannrum_5.b"
        C:SV3 = {
            declare_war_with_wargoal = {
                war_goal = conquer_wargoal
                province = p:3904
                target = c:SV1
            }
        }
        hidden_effect = {
            c:SV3 = { trigger_event = me_duggmannrum.7} 
        }
    }
}

me_duggmannrum.6 = {  ###SENNMOGGEN YES
    type = country_event

    title = me_duggmannrum_6_title
    desc = me_duggmannrum_6_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89

    option = {
        name = "me_duggmannrum_6.a"
        custom_tooltip = duggmannrum_stooltip_4
    }
}

me_duggmannrum.7 = {  ###SENNMOGGEN NO
    type = country_event

    title = me_duggmannrum_7_title
    desc = me_duggmannrum_7_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89

    option = {
        name = "me_duggmannrum_7.a"
        custom_tooltip = duggmannrum_stooltip_5
        hidden_effect = {
            add_stability = 25
            add_aggressive_expansion = -5
        }
    }
}

me_duggmannrum.8 = { ## BREWERS
    type = country_event

    title = me_duggmannrum_8_title
    desc = me_duggmannrum_8_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_8.a"
        custom_tooltip = me_duggmannrum_8_tooltip
        show_as_tooltip = {
            add_3_free_province_investments = yes
        }
    }
}

me_duggmannrum.9 = { 
    type = country_event

    title = me_duggmannrum_9_title
    desc = me_duggmannrum_9_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_9.a"
        custom_tooltip = me_duggmannrum_9_tooltip
        show_as_tooltip = {
            add_innovation = 5
        }
    }
}
me_duggmannrum.10_= { 
    type = country_event

    title = me_duggmannrum_10_title
    desc = me_duggmannrum_10_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_10.a"
        custom_tooltip = me_duggmannrum_10_tooltip
        show_as_tooltip = {
            add_military_experience = 20
            add_aggressive_expansion = -5
        }
    }
}
me_duggmannrum.11 = { 
    type = country_event

    title = me_duggmannrum_11_title
    desc = me_duggmannrum_11_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_11.a"
        custom_tooltip = me_duggmannrum_11_tooltip
        show_as_tooltip = {
            add_stability = 8
        }
    }
}
me_duggmannrum.12 = { 
    type = country_event

    title = me_duggmannrum_12_title
    desc = me_duggmannrum_12_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_12.a"
        custom_tooltip = me_duggmannrum_12_tooltip
        show_as_tooltip = {
            add_political_influence = -15
            add_stability = 10
            add_aggressive_expansion = -8
            add_5_free_province_investments = yes
        }
    }
}
me_duggmannrum.13 = {
    type = country_event

    title = me_duggmannrum_13_title
    desc = me_duggmannrum_13_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_13.a"
        custom_tooltip = me_duggmannrum_13_tooltip
        show_as_tooltip = {
            add_country_modifier = {
                name = meritocracy_mod
                duration = -1
            }
            create_character = {
                culture = anvindr
                religion = the_old_father_silver
            }
            create_character = {
                culture = anvindr
                religion = the_old_father_silver
            }
            create_character = {
                culture = anvindr
                religion = the_old_father_silver
            }
        }
    }
}
me_duggmannrum.14 = { ###SENNMOGGEN BUFFS
    type = country_event

    title = me_duggmannrum_14_title
    desc = me_duggmannrum_14_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89
    

    option = {
        name = "me_duggmannrum_14.a"
        add_country_modifier = {
            name = senn_officers_mod
            duration = -1
        }
        hidden_effect = {
            trigger_event = {
                id = me_duggmannrum.15
                days = 120
            }
        }
    }
    option = {
        name = "me_duggmannrum_14.b"
        add_country_modifier = {
            name = senn_guard_mod
            duration = -1
        }
        hidden_effect = {
            trigger_event = {
                id = me_duggmannrum.15
                days = 120
            }
        }
    }
}

me_duggmannrum.15 = {  ###SENNMOGGEN ANNEXATION
    type = country_event

    title = me_duggmannrum_15_title
    desc = me_duggmannrum_15_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89

    option = {
        name = "me_duggmannrum_15.a"
        char:89 = {
            move_country = SV3
            add_nickname = "to Sath"
            hidden_effect = {
                add_trait = trustworthy
            }
        }
        hidden_effect = {
        C:SV1 = { every_owned_province = { set_owned_by = SV3 } }
        }
    }
}
me_duggmannrum.16 = { 
    type = country_event

    title = me_duggmannrum_16_title
    desc = me_duggmannrum_16_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_16.a"
        custom_tooltip = me_duggmannrum_16_tooltip
        show_as_tooltip = {
            add_military_experience =-25
            add_country_modifier = {
                name = sennfernnen_mod
                duration = -1
            }
        }
    }
}
me_duggmannrum.17 = { 
    type = country_event

    title = me_duggmannrum_17_title
    desc = me_duggmannrum_17_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = c:SOV.current_ruler

    option = {
        name = "me_duggmannrum_17.a"
        custom_tooltip = me_duggmannrum_17_tooltip
        show_as_tooltip = {
            political_influence >= 15
            add_innovation = 5
            p:3988 = {
                define_pop = {
                    type = mages
                    culture = sovenerian
                    religion = helluvian
                }
            }
            add_country_modifier = {
                name = foreign_mages_mod
                duration = 7305
            }
        }
    }
}
me_duggmannrum.18 = { 
    type = country_event

    title = me_duggmannrum_18_title
    desc = me_duggmannrum_18_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_18.a"
        custom_tooltip = me_duggmannrum_18_tooltip
        show_as_tooltip = {
            add_treasury = -200
            current_ruler = { add_popularity = 20 }
            p:3883 = {
                add_permanent_province_modifier = {
                name = gerrbaen_expanded_mod
                duration = -1
            }
            }
            capital_scope = {
                create_state_pop = freemen
                create_state_pop = freemen
                create_state_pop = freemen
            }
        }
    }
}
me_duggmannrum.19 = { 
    type = country_event

    title = me_duggmannrum_19_title
    desc = me_duggmannrum_19_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_19.a"
        custom_tooltip = me_duggmannrum_19_tooltip
        show_as_tooltip = {
            add_military_experience = -10
            add_political_influence = -100
            add_country_modifier = {
                name = sennkallen_mod
                duration = -1
            }
        }
    }
}
me_duggmannrum.20 = { 
    type = country_event

    title = me_duggmannrum_20_title
    desc = me_duggmannrum_20_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_20.a"
        custom_tooltip = me_duggmannrum_20_tooltip
        show_as_tooltip = {
            add_treasury = -100
            p:3947 = {
                add_permanent_province_modifier = {
                name = restored_brewery_mod
                duration = -1
                }
            }
        }
    }
}
me_duggmannrum.21 = { 
    type = country_event

    title = me_duggmannrum_21_title
    desc = me_duggmannrum_21_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_21.a"
        custom_tooltip = me_duggmannrum_21_tooltip
        show_as_tooltip = {
            add_treasury = -100
            p:3988 = {
                add_permanent_province_modifier = {
                name = expanded_academy_mod
                duration = -1
                }
            }
        }
    }
}
me_duggmannrum.22 = { 
    type = country_event

    title = me_duggmannrum_22_title
    desc = me_duggmannrum_22_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_22.a"
        custom_tooltip = me_duggmannrum_22_tooltip
        show_as_tooltip = {
            add_treasury = -100
            p:4075 = {
                add_permanent_province_modifier = {
                name = expanded_mines_mod
                duration = -1
                }
            }
        }
    }
}
me_duggmannrum.23 = { 
    type = country_event

    title = me_duggmannrum_23_title
    desc = me_duggmannrum_23_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_23.a"
        custom_tooltip = me_duggmannrum_23_tooltip
        custom_tooltip = duggmannrum_stooltip_6
        show_as_tooltip = {
            add_5_free_province_investments = yes
        }
    }
}
me_duggmannrum.24 = { 
    type = country_event

    title = me_duggmannrum_24_title
    desc = me_duggmannrum_24_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_24.a"
        custom_tooltip = me_duggmannrum_24_tooltip
        show_as_tooltip = {
            p:3848 = {
                add_permanent_province_modifier = {
                name = state_funded_farms_mod
                duration = -1
            }
            }
            p:3921 = {
                add_permanent_province_modifier = {
                name = state_funded_farms_mod
                duration = -1
            }
            }
            p:3792 = {
                add_permanent_province_modifier = {
                name = state_funded_farms_mod
                duration = -1
            }
            }
            p:4019 = {
                add_permanent_province_modifier = {
                name = state_funded_farms_mod
                duration = -1
                }
            }
        }
    }
}
me_duggmannrum.25 = { 
    type = country_event

    title = me_duggmannrum_25_title
    desc = me_duggmannrum_25_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_25.a"
        custom_tooltip = me_duggmannrum_25_tooltip
        show_as_tooltip = {
            add_treasury = -200
            p:3883 = {
                create_state_pop = nobles
                create_state_pop = citizen
                create_state_pop = freemen
                create_state_pop = serfs
                create_state_pop = serfs
                add_permanent_province_modifier = {
                    name = sorrborr_mod
                    duration = -1
                }
                set_city_status = city_metropolis
                change_province_name = Gorrgerrborr
            }
        }
    }
}
me_duggmannrum.26 = { 
    type = country_event

    title = me_duggmannrum_26_title
    desc = me_duggmannrum_26_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_26.a"
        custom_tooltip = me_duggmannrum_26_tooltip
        show_as_tooltip = {
           p:3883 = {
                create_state_pop = nobles
                create_state_pop = nobles
                add_permanent_province_modifier = {
                name = palace_mod
                duration = -1
                }
            }
        }
    }
}
me_duggmannrum.27 = { 
    type = country_event

    title = me_duggmannrum_27_title
    desc = me_duggmannrum_27_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_27.a"
        custom_tooltip = me_duggmannrum_27_tooltip
        change_country_name = "SLV"
            add_4_free_province_investments = yes
            change_government = silver_monarchy
            hidden_effect = {
                change_country_adjective = "SLV_ADJ"
                change_country_color =  "etruscan_blue"
                change_country_tag = SLV
                change_country_flag = "SLV_FLAG"
            }
            capital_scope = {
                capital_formable_large_effect = yes
                formable_capital_modifier_large_effect = yes
            }
            add_country_modifier = {
                name = restored_kingdom_mod
                duration = -1
            }
            current_ruler = {
                #change_first_name = "Hefdarr II" not sure if you can change first names?
                add_trait = founder
                add_trait = duggmoggen
                add_nickname = "to Wieddrmogg"
            }
            ##FIX CHANGE NAME OF GARRMOGGEN TO DUGGMOGGEN
            #char:88 = {
            #    save_scope_as = family_candidate_1
            #}
            #trigger = { exists = scope:family_candidate_1 }
            #new_family_generation_effect = { FAMILY_CANDIDATE = #family_candidate_1 }
    }
}



