namespace = me_duggmannrum

####MISSION EVENTS
me_duggmannrum.1 = { ##DECLARATION
    type = country_event

    title = me_duggmannrum_1_title
    desc = me_duggmannrum_1_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_1.a"
        mission_claim_region_effect = { REGION = green_valey_region }     
        hidden_effect = {
            if = {
                    limit = { tag = SV5 }
                    trigger_event = {
                        id = me_duggmannrum.5
                }
            }
            if = {
                    limit = { tag = SV6 }
                    trigger_event = {
                        id = me_duggmannrum.5
                }
            }
            if = {
                    limit = { tag = SV7 }
                    trigger_event = {
                        id = me_duggmannrum.5
                }
            }
            if = {
                    limit = { tag = SV8  }
                    trigger_event = {
                        id = me_duggmannrum.5
                }
            }
        }
    }
}
me_duggmannrum.2 = {  ##ASK SENNMOGGEN
    type = country_event

    title = me_duggmannrum_2_title
    desc = me_duggmannrum_2_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89

    option = {
        name = "me_duggmannrum_2.a"
        hidden_effect = {    
            if = {
                    limit = { tag = SV1 }
                    trigger_event = {
                        id = me_duggmannrum.6
                    }
                }
            }
        }
    }
me_duggmannrum.3 = {
    type = country_event

    title = me_duggmannrum_3_title
    desc = me_duggmannrum_3_desc
    picture = ship_in_storm
    left_portrait = current_ruler
    

    option = {
        name = "me_duggmannrum_3.a"
        add_country_modifier = {
            name = senn_officers_mod
            duration = -1
        }
        hidden_effect = {
            trigger_event = {
                        delay = { days = { 2 100 } }
                        id = me_duggmannrum.8
            }
        }
    }
    option = {
        name = "me_duggmannrum_3.b"
        add_country_modifier = {
            name = senn_guard_mod
            duration = -1
        }
        hidden_effect = {
            trigger_event = {
                        delay = { days = { 2 100 } }
                        id = me_duggmannrum.9
            }
        }
    }
}
me_duggmannrum.4 = {
    type = country_event

    title = me_duggmannrum_4_title
    desc = me_duggmannrum_4_desc
    picture = farming
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_4.a"
            change_country_name = "SLV"
            add_4_free_province_investments = yes
            hidden_effect = {
                change_country_adjective = "SLV_ADJ"
                change_country_color =  "etruscan_blue"
                change_country_tag = SLV
                change_country_flag = "SLV_FLAG"
            }
            capital_scope = {
                capital_formable_large_effect = yes
                formable_capital_modifier_large_effect = yes
            }
            add_country_modifier = {
                name = restored_kingdom_mod
                duration = -1
            }
            current_ruler = {
                    first_name = "Hefdarr II"
                    add_trait = founder
                    add_trait = duggmoggen
                    add_nickname = "tö Wieddrmögg"
            }
            ##FIX CHANGE NAME OF GARRMOGGEN TO DUGGMOGGEN
            #char:88 = {
            #    save_scope_as = family_candidate_1
            #}
            #trigger = { exists = scope:family_candidate_1 }
            #new_family_generation_effect = { FAMILY_CANDIDATE = #family_candidate_1 }
    }
}
me_duggmannrum.5 = { ## UNI WARS
    type = country_event

    title = me_duggmannrum_5_title
    desc = me_duggmannrum_5_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_5.a"
        mission_claim_region_effect = { REGION = green_valey_region }
        add_military_experience = 10
        }
    }

me_duggmannrum.6 = {  ###SENNMOGGEN
    type = country_event

    title = me_duggmannrum_6_title
    desc = me_duggmannrum_6_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89

    option = {
        ai_chance = { factor = 0.5 }
        name = "me_duggmannrum_6.a"
        C:SV3 ={
            make_subject = {
                    target = c:SV1
                    type = feudatory
            }
        }
        char:88 = {
            add_friend = char:89
        }
    }
    option = {
        name = "me_duggmannrum_6.b"
        C:SV3 = {
            declare_war_with_wargoal = {
                war_goal = conquer_wargoal
                province = p:3904
                target = c:SV1
            }
        }
    }
}

me_duggmannrum.7 = {  ###SENNMOGGEN ANNEXATION
    type = country_event

    title = me_duggmannrum_7_title
    desc = me_duggmannrum_7_desc
    picture = city_country
    left_portrait = current_ruler

    option = {
        name = "me_duggmannrum_7.a"
        char:89 = {
            move_country = SV3
            add_nickname = "tö Sath"
            hidden_effect = {
                add_trait = loyal
            }
        }
        hidden_effect = {
        C:SV1 = { every_owned_province = { set_owned_by = SV3 } }
        }
    }
}

me_duggmannrum.8 = {  ###SENNMOGGEN VASSAL SUCCESS!
    type = country_event

    title = me_duggmannrum_8_title
    desc = me_duggmannrum_8_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89

    option = {
        name = "me_duggmannrum_8.a"
        custom_tooltip = duggmannrum_tooltip.4
    }
}

me_duggmannrum.9 = {  ###SENNMOGGEN VASSAL FAILURE!
    type = country_event

    title = me_duggmannrum_9_title
    desc = me_duggmannrum_9_desc
    picture = city_country
    left_portrait = current_ruler
    right_portrait = char:89

    option = {
        name = "me_duggmannrum_9.a"
        custom_tooltip = duggmannrum_tooltip.5
    }
}
