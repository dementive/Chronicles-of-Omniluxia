namespace = me_magic_menu

# Learn Magic Main Menu
me_magic_menu.1 = {
    type = country_event

    title = me_magic_menu.1_title
    desc = me_magic_menu.1_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Omnic
        name = "me_magic_menu.1.a"
        custom_tooltip = me_magic_menu.1a_tooltip
        trigger_event = { id = me_magic_menu.2 }
    }

    option = { # Aldic
        name = "me_magic_menu.1.b"
        custom_tooltip = me_magic_menu.1b_tooltip
        trigger_event = { id = me_magic_menu.3 }
    }

    option = { # Amten
        name = "me_magic_menu.1.c"
        custom_tooltip = me_magic_menu.1c_tooltip
        trigger_event = { id = me_magic_menu.4 }
    }

    option = { # Melodian
        name = "me_magic_menu.1.d"
        custom_tooltip = me_magic_menu.1d_tooltip
        trigger_event = { id = me_magic_menu.5 }
    }

    option = { # Leave
        name = "me_magic_menu.1.e"
        custom_tooltip = me_magic_menu.1e_tooltip
    }
}

# Omnic
me_magic_menu.2 = {
    type = country_event

    title = me_magic_menu.2_title
    desc = me_magic_menu.2_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Diviner T1
        trigger = {
            NOT = {
                has_variable = diviner_t2_unlocked_var
            }
        }

        name = "me_magic_menu.2.a"
        custom_tooltip = me_magic_menu.2a_tooltip
        add_treasury = -50

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_diviner_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Diviner T2
        trigger = {
            AND = {
                current_ruler = {
                    has_trait = diviner_trait
                }
                has_variable = diviner_t2_unlocked_var
            }
        }
        name = "me_magic_menu.2.b"
        custom_tooltip = me_magic_menu.2b_tooltip
        add_treasury = -100

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_diviner_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Hierophant T1
        trigger = {
            NOT = {
                has_variable = hierophant_t2_unlocked_var
            }
        }

        name = "me_magic_menu.2.c"
        custom_tooltip = me_magic_menu.2c_tooltip
        add_treasury = -50

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_hierophant_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Hierophant T2
        trigger = {
            AND = {
                current_ruler = {
                    has_trait = hierophant_trait
                }
                has_variable = hierophant_t2_unlocked_var
            }
        }
        name = "me_magic_menu.2.d"
        custom_tooltip = me_magic_menu.2d_tooltip
        add_treasury = -100

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_hierophant_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Leave
        name = "me_magic_menu.2.e"
        custom_tooltip = me_magic_menu.2e_tooltip
        trigger_event = { id = me_magic_menu.1 }
    }
}

# Aldic
me_magic_menu.3 = {
    type = country_event

    title = me_magic_menu.3_title
    desc = me_magic_menu.3_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Cleric T1
        trigger = {
            NOT = {
                has_variable = cleric_t2_unlocked_var
            }
        }

        name = "me_magic_menu.3.a"
        custom_tooltip = me_magic_menu.3a_tooltip
        add_treasury = -50

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_cleric_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Cleric T2
        trigger = {
            AND = {
                current_ruler = {
                    has_trait = cleric_trait
                }
                has_variable = cleric_t2_unlocked_var
            }
        }
        name = "me_magic_menu.3.b"
        custom_tooltip = me_magic_menu.3b_tooltip
        add_treasury = -100

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_cleric_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Illusionist  T1
        trigger = {
            NOT = {
                has_variable = illusionist_t2_unlocked_var
            }
        }

        name = "me_magic_menu.3.c"
        custom_tooltip = me_magic_menu.3c_tooltip
        add_treasury = -50

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_illusionist_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Illusionist  T2
        trigger = {
            AND = {
                current_ruler = {
                    has_trait = illusionist_trait
                }
                has_variable = illusionist_t2_unlocked_var
            }
        }
        name = "me_magic_menu.3.d"
        custom_tooltip = me_magic_menu.3d_tooltip
        add_treasury = -100

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_illusionist_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Leave
        name = "me_magic_menu.3.e"
        custom_tooltip = me_magic_menu.3e_tooltip
        trigger_event = { id = me_magic_menu.1 }
    }
}

me_magic_menu.4 = {
    type = country_event

    title = me_magic_menu.4_title
    desc = me_magic_menu.4_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Elementalist T1
        trigger = {
            NOT = {
                has_variable = elementalist_t2_unlocked_var
            }
        }

        name = "me_magic_menu.4.a"
        custom_tooltip = me_magic_menu.4a_tooltip
        add_treasury = -50

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_elementalist_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Elementalist T2
        trigger = {
            AND = {
                current_ruler = {
                    has_trait = elementalist_trait
                }
                has_variable = elementalist_t2_unlocked_var
            }
        }
        name = "me_magic_menu.4.b"
        custom_tooltip = me_magic_menu.4b_tooltip
        add_treasury = -100

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_elementalist_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Druid T1
        trigger = {
            NOT = {
                has_variable = druid_t2_unlocked_var
            }
        }

        name = "me_magic_menu.4.c"
        custom_tooltip = me_magic_menu.4c_tooltip
        add_treasury = -50

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_druid_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Druid T2
        trigger = {
            AND = {
                current_ruler = {
                    has_trait = druid_trait
                }
                has_variable = druid_t2_unlocked_var
            }
        }

        name = "me_magic_menu.4.d"
        custom_tooltip = me_magic_menu.4d_tooltip
        add_treasury = -100

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_druid_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Leave
        name = "me_magic_menu.4.e"
        custom_tooltip = me_magic_menu.4e_tooltip
        trigger_event = { id = me_magic_menu.1 }
    }
}

me_magic_menu.5 = {
    type = country_event

    title = me_magic_menu.5_title
    desc = me_magic_menu.5_desc
    picture = ascetic
    left_portrait = current_ruler

    option = { # Necromancer T1
        trigger = {
            NOT = {
                has_variable = necromancer_t2_unlocked_var
            }
        }

        name = "me_magic_menu.5.a"
        custom_tooltip = me_magic_menu.5a_tooltip
        add_treasury = -50

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_necromancer_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Necromancer T2
        trigger = {
            AND = {
                current_ruler = {
                    has_trait = necromancer_trait
                }
                has_variable = necromancer_t2_unlocked_var
            }
        }

        name = "me_magic_menu.5.b"
        custom_tooltip = me_magic_menu.5b_tooltip
        add_treasury = -100

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_necromancer_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Warlock T1
        trigger = {
            NOT = {
                has_variable = warlock_t2_unlocked_var
            }
        }

        name = "me_magic_menu.5.c"
        custom_tooltip = me_magic_menu.5c_tooltip
        add_treasury = -50

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_warlock_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Warlock T2
        trigger = {
            AND = {
                current_ruler = {
                    has_trait = warlock_trait
                }
                has_variable = necromancer_t2_unlocked_var
            }
        }

        name = "me_magic_menu.5.d"
        custom_tooltip = me_magic_menu.5d_tooltip
        add_treasury = -100

        set_variable = omni_studying_magic_cooldown
        set_variable = omni_studying_warlock_var
        set_variable = omni_studying_phase_one_var
        trigger_event = {
            id = me_magic_studying.1
            days = 20
        }
    }

    option = { # Leave
        name = "me_magic_menu.5.e"
        custom_tooltip = me_magic_menu.5e_tooltip
        trigger_event = { id = me_magic_menu.1 }
    }
}

